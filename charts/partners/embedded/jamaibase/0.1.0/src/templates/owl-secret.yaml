{{/*
 =============================================================================
 OWL Secret Template
 Creates the owl-secret containing API keys and sensitive configuration
 Excludes github-registry-secret (assumed to exist in namespace)
 ============================================================================*/}}

{{- if .Values.jamaibase.owl.enabled }}
{{- with .Values.jamaibase.owl }}
{{- if .secret.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .secret.name }}
  namespace: {{ $.Release.Namespace }}
  labels:
    {{- include "jamaibase.labels" $ | nindent 4 }}
    app.kubernetes.io/component: owl-secret
    app.kubernetes.io/part-of: owl-backend
  annotations:
    {{- include "jamaibase.annotations" $ | nindent 4 }}
type: Opaque
stringData:
  # LLM Provider API Keys
  OWL_ANTHROPIC_API_KEY: {{ .secret.anthropicApiKey | quote }}
  OWL_AZURE_API_KEY: {{ .secret.azureApiKey | quote }}
  OWL_AZURE_AI_API_KEY: {{ .secret.azureAiApiKey | quote }}
  OWL_BEDROCK_API_KEY: {{ .secret.bedrockApiKey | quote }}
  OWL_CEREBRAS_API_KEY: {{ .secret.cerebrasApiKey | quote }}
  OWL_COHERE_API_KEY: {{ .secret.cohereApiKey | quote }}
  OWL_DEEPSEEK_API_KEY: {{ .secret.deepseekApiKey | quote }}
  OWL_ELLM_API_KEY: {{ .secret.ellmApiKey | quote }}
  OWL_GEMINI_API_KEY: {{ .secret.geminiApiKey | quote }}
  OWL_GROQ_API_KEY: {{ .secret.groqApiKey | quote }}
  OWL_HYPERBOLIC_API_KEY: {{ .secret.hyperbolicApiKey | quote }}
  OWL_JINA_AI_API_KEY: {{ .secret.jinaAiApiKey | quote }}
  OWL_OPENAI_API_KEY: {{ .secret.openaiApiKey | quote }}
  OWL_OPENROUTER_API_KEY: {{ .secret.openrouterApiKey | quote }}
  OWL_SAGEMAKER_API_KEY: {{ .secret.sagemakerApiKey | quote }}
  OWL_SAMBANOVA_API_KEY: {{ .secret.sambanovaApiKey | quote }}
  OWL_SERVICE_KEY: {{ .secret.serviceKey | quote }}
  OWL_TOGETHER_AI_API_KEY: {{ .secret.togetherAiApiKey | quote }}
  OWL_VERTEX_AI_API_KEY: {{ .secret.vertexAiApiKey | quote }}
  OWL_VOYAGE_API_KEY: {{ .secret.voyageApiKey | quote }}
  
  # Stripe Configuration
  OWL_STRIPE_API_KEY: {{ .secret.stripeApiKey | quote }}
  OWL_STRIPE_PUBLISHABLE_KEY_LIVE: {{ .secret.stripePublishableKeyLive | quote }}
  OWL_STRIPE_PUBLISHABLE_KEY_TEST: {{ .secret.stripePublishableKeyTest | quote }}
  OWL_STRIPE_WEBHOOK_SECRET_LIVE: {{ .secret.stripeWebhookSecretLive | quote }}
  OWL_STRIPE_WEBHOOK_SECRET_TEST: {{ .secret.stripeWebhookSecretTest | quote }}
{{- end }}
{{- end }}
{{- end }}
