# Code generated by solo-kit. DO NOT EDIT.

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  creationTimestamp: null
  name: gateways.gateway.solo.io
spec:
  group: gateway.solo.io
  names:
    kind: Gateway
    listKind: GatewayList
    plural: gateways
    shortNames:
    - gw
    singular: gateway
  preserveUnknownFields: false
  scope: Namespaced
  validation:
    openAPIV3Schema:
      properties:
        spec:
          description: A Gateway describes a single Listener (bind address:port) and
            the routing configuration to upstreams that are reachable via a specific
            port on the Gateway Proxy itself.
          properties:
            bindAddress:
              description: the bind address the gateway should serve traffic on
              type: string
            bindPort:
              description: bind ports must not conflict across gateways for a single
                proxy
              format: int32
              type: integer
            httpGateway:
              properties:
                options:
                  description: HTTP Gateway configuration
                  properties:
                    buffer:
                      description: Buffer can be used to set the maximum request size
                        that the filter will buffer before the connection manager
                        will stop buffering and return a 413 response.
                      properties:
                        maxRequestBytes:
                          description: The maximum request size that the filter will
                            buffer before the connection manager will stop buffering
                            and return a 413 response.
                          maximum: 4294967295
                          minimum: 0
                          nullable: true
                          type: integer
                      type: object
                    csrf:
                      description: Csrf can be used to set percent of requests for
                        which the CSRF filter is enabled, enable shadow-only mode
                        where policies will be evaluated and tracked, but not enforced
                        and add additional source origins that will be allowed in
                        addition to the destination origin. For more, see https://www.envoyproxy.io/docs/envoy/latest/api-v2/config/filter/http/csrf/v2/csrf.proto
                      properties:
                        additionalOrigins:
                          description: Specifies additional source origins that will
                            be allowed in addition to the destination origin.
                          items:
                            description: 'Specifies the way to match a string. [#next-free-field:
                              7]'
                            properties:
                              exact:
                                description: The input string must match exactly the
                                  string specified here.
                                type: string
                              ignoreCase:
                                description: If true, indicates the exact/prefix/suffix
                                  matching should be case insensitive. This has no
                                  effect for the safe_regex match. For example, the
                                  matcher *data* will match both input string *Data*
                                  and *data* if set to true.
                                type: boolean
                              prefix:
                                description: 'The input string must have the prefix
                                  specified here. Note: empty prefix is not allowed,
                                  please use regex instead.'
                                type: string
                              safeRegex:
                                description: The input string must match the regular
                                  expression specified here.
                                properties:
                                  googleRe2:
                                    description: Google's RE2 regex engine.
                                    properties:
                                      maxProgramSize:
                                        description: This field controls the RE2 "program
                                          size" which is a rough estimate of how complex
                                          a compiled regex is to evaluate. A regex
                                          that has a program size greater than the
                                          configured value will fail to compile. In
                                          this case, the configured max program size
                                          can be increased or the regex can be simplified.
                                          If not specified, the default is 100.
                                        maximum: 4294967295
                                        minimum: 0
                                        nullable: true
                                        type: integer
                                    type: object
                                  regex:
                                    description: The regex match string. The string
                                      must be supported by the configured engine.
                                    type: string
                                type: object
                              suffix:
                                description: 'The input string must have the suffix
                                  specified here. Note: empty prefix is not allowed,
                                  please use regex instead.'
                                type: string
                            type: object
                          type: array
                        filterEnabled:
                          description: Specifies the % of requests for which the CSRF
                            filter is enabled.
                          properties:
                            defaultValue:
                              description: Default value if the runtime value's for
                                the numerator/denominator keys are not available.
                              properties:
                                denominator:
                                  description: Specifies the denominator. If the denominator
                                    specified is less than the numerator, the final
                                    fractional percentage is capped at 1 (100%).
                                  enum:
                                  - HUNDRED
                                  - TEN_THOUSAND
                                  - MILLION
                                  type: string
                                numerator:
                                  description: Specifies the numerator. Defaults to
                                    0.
                                  format: int32
                                  type: integer
                              type: object
                            runtimeKey:
                              description: Runtime key for a YAML representation of
                                a FractionalPercent.
                              type: string
                          type: object
                        shadowEnabled:
                          description: Specifies that CSRF policies will be evaluated
                            and tracked, but not enforced.
                          properties:
                            defaultValue:
                              description: Default value if the runtime value's for
                                the numerator/denominator keys are not available.
                              properties:
                                denominator:
                                  description: Specifies the denominator. If the denominator
                                    specified is less than the numerator, the final
                                    fractional percentage is capped at 1 (100%).
                                  enum:
                                  - HUNDRED
                                  - TEN_THOUSAND
                                  - MILLION
                                  type: string
                                numerator:
                                  description: Specifies the numerator. Defaults to
                                    0.
                                  format: int32
                                  type: integer
                              type: object
                            runtimeKey:
                              description: Runtime key for a YAML representation of
                                a FractionalPercent.
                              type: string
                          type: object
                      type: object
                    dlp:
                      description: 'Enterprise-only: Config for data loss prevention'
                      properties:
                        dlpRules:
                          description: The list of transformation, matcher pairs.
                            The first rule which matches will be applied.
                          items:
                            description: Rule which applies a given set of actions
                              to a matching route. The route matching functions exactly
                              the same as the envoy routes in the virtual host.
                            properties:
                              actions:
                                description: List of data loss prevention actions
                                  to be applied. These actions will be applied in
                                  order, one at a time.
                                items:
                                  description: A single action meant to mask sensitive
                                    data. The action type represents a set of pre
                                    configured actions, as well as the ability to
                                    create custom actions. These actions can also
                                    be shadowed, a shadowed action will be recorded
                                    in the statistics, and debug logs, but not actually
                                    committed in the response body.
                                  properties:
                                    actionType:
                                      description: The action type to implement.
                                      enum:
                                      - CUSTOM
                                      - SSN
                                      - MASTERCARD
                                      - VISA
                                      - AMEX
                                      - DISCOVER
                                      - JCB
                                      - DINERS_CLUB
                                      - CREDIT_CARD_TRACKERS
                                      - ALL_CREDIT_CARDS
                                      type: string
                                    customAction:
                                      description: The custom user action to be applied.
                                        This field will only be used if the custom
                                        action type is specified above.
                                      properties:
                                        maskChar:
                                          description: 'The masking character for
                                            the sensitive data. default value: X'
                                          type: string
                                        name:
                                          description: The name of the custom action.
                                            This name is used for logging and debugging
                                            purposes.
                                          type: string
                                        percent:
                                          description: 'The percent of the string
                                            which will be masked by the mask_char
                                            default value: 75% rounds ratio (percent/100)
                                            by std::round http://www.cplusplus.com/reference/cmath/round/'
                                          properties:
                                            value:
                                              type: number
                                          type: object
                                        regex:
                                          description: The list of regex strings which
                                            will be applied in order.
                                          items:
                                            type: string
                                          type: array
                                      type: object
                                    shadow:
                                      description: Shadow represents whether the action
                                        should be taken, or just recorded.
                                      type: boolean
                                  type: object
                                type: array
                              matcher:
                                description: Matcher by which to determine if the
                                  given transformation should be applied if omitted,
                                  will it match all (i.e., default to / prefix matcher)
                                properties:
                                  caseSensitive:
                                    description: Indicates that prefix/path matching
                                      should be case sensitive. The default is true.
                                    nullable: true
                                    type: boolean
                                  exact:
                                    description: If specified, the route is an exact
                                      path rule meaning that the path must exactly
                                      match the *:path* header once the query string
                                      is removed.
                                    type: string
                                  headers:
                                    description: Specifies a set of headers that the
                                      route should match on. The router will check
                                      the request’s headers against all the specified
                                      headers in the route config. A match will happen
                                      if all the headers in the route are present
                                      in the request with the same values (or based
                                      on presence if the value field is not in the
                                      config).
                                    items:
                                      description: Internally, Gloo always uses the
                                        HTTP/2 *:authority* header to represent the
                                        HTTP/1 *Host* header. Thus, if attempting
                                        to match on *Host*, match on *:authority*
                                        instead.
                                      properties:
                                        invertMatch:
                                          description: If set to true, the result
                                            of the match will be inverted. Defaults
                                            to false.
                                          type: boolean
                                        name:
                                          description: Specifies the name of the header
                                            in the request.
                                          type: string
                                        regex:
                                          description: Specifies whether the header
                                            value should be treated as regex or not.
                                          type: boolean
                                        value:
                                          description: Specifies the value of the
                                            header. If the value is absent a request
                                            that has the name header will match, regardless
                                            of the header’s value.
                                          type: string
                                      type: object
                                    type: array
                                  methods:
                                    description: HTTP Method/Verb(s) to match on.
                                      If none specified, the matcher will ignore the
                                      HTTP Method
                                    items:
                                      type: string
                                    type: array
                                  prefix:
                                    description: If specified, the route is a prefix
                                      rule meaning that the prefix must match the
                                      beginning of the *:path* header.
                                    type: string
                                  queryParameters:
                                    description: Specifies a set of URL query parameters
                                      on which the route should match. The router
                                      will check the query string from the *path*
                                      header against all the specified query parameters.
                                      If the number of specified query parameters
                                      is nonzero, they all must match the *path* header's
                                      query string for a match to occur.
                                    items:
                                      description: Query parameter matching treats
                                        the query string of a request's :path header
                                        as an ampersand-separated list of keys and/or
                                        key=value elements.
                                      properties:
                                        name:
                                          description: Specifies the name of a key
                                            that must be present in the requested
                                            *path*'s query string.
                                          type: string
                                        regex:
                                          description: Specifies whether the query
                                            parameter value is a regular expression.
                                            Defaults to false. The entire query parameter
                                            value (i.e., the part to the right of
                                            the equals sign in "key=value") must match
                                            the regex. E.g., the regex "\d+$" will
                                            match "123" but not "a123" or "123a".
                                          type: boolean
                                        value:
                                          description: Specifies the value of the
                                            key. If the value is absent, a request
                                            that contains the key in its query string
                                            will match, whether the key appears with
                                            a value (e.g., "?debug=true") or not (e.g.,
                                            "?debug")
                                          type: string
                                      type: object
                                    type: array
                                  regex:
                                    description: If specified, the route is a regular
                                      expression rule meaning that the regex must
                                      match the *:path* header once the query string
                                      is removed. The entire path (without the query
                                      string) must match the regex. The rule will
                                      not match if only a sub-sequence of the *:path*
                                      header matches the regex. The regex grammar
                                      is defined `here <http://en.cppreference.com/w/cpp/regex/ecmascript>`_.
                                    type: string
                                type: object
                            type: object
                          type: array
                        enabledFor:
                          description: Whether responses, access logs, or both should
                            be masked by the applied actions. If not defined, masking
                            will only be enabled for responses bodies.
                          enum:
                          - RESPONSE_BODY
                          - ACCESS_LOGS
                          - ALL
                          type: string
                      type: object
                    extauth:
                      description: 'Enterprise-only: External auth related settings'
                      properties:
                        clearRouteCache:
                          description: 'Clears route cache in order to allow the external
                            authorization service to correctly affect routing decisions.
                            Filter clears all cached routes when:'
                          type: boolean
                        extauthzServerRef:
                          description: The upstream to ask about auth decisions
                          properties:
                            name:
                              type: string
                            namespace:
                              type: string
                          type: object
                        failureModeAllow:
                          description: In case of a failure or timeout querying the
                            auth server, normally a request is denied. if this is
                            set to true, the request will be allowed.
                          type: boolean
                        httpService:
                          description: If this is set, communication to the upstream
                            will be via HTTP and not GRPC.
                          properties:
                            pathPrefix:
                              description: Sets a prefix to the value of authorization
                                request header *Path*.
                              type: string
                            request:
                              properties:
                                allowedHeaders:
                                  description: 'These headers will be copied from
                                    the incoming request to the request going to the
                                    auth server. Note that in addition to the user''s
                                    supplied matchers:'
                                  items:
                                    type: string
                                  type: array
                                headersToAdd:
                                  additionalProperties:
                                    type: string
                                  description: These headers that will be included
                                    to the request to authorization service. Note
                                    that client request of the same key will be overridden.
                                  type: object
                              type: object
                            response:
                              properties:
                                allowedClientHeaders:
                                  description: When this. is set, authorization response
                                    headers that will be added to the client's response
                                    when auth request is denied. Note that when this
                                    list is *not* set, all the authorization response
                                    headers, except *Authority (Host)* will be in
                                    the response to the client. When a header is included
                                    in this list, *Path*, *Status*, *Content-Length*,
                                    *WWW-Authenticate* and *Location* are automatically
                                    added.
                                  items:
                                    type: string
                                  type: array
                                allowedUpstreamHeaders:
                                  description: When this is set, authorization response
                                    headers that have a will be added to the original
                                    client request and sent to the upstream. Note
                                    that coexistent headers will be overridden.
                                  items:
                                    type: string
                                  type: array
                              type: object
                          type: object
                        requestBody:
                          description: Set this if you also want to send the body
                            of the request, and not just the headers.
                          properties:
                            allowPartialMessage:
                              description: When this field is true, Envoy will buffer
                                the message until *max_request_bytes* is reached.
                                The authorization request will be dispatched and no
                                413 HTTP error will be returned by the filter.
                              type: boolean
                            maxRequestBytes:
                              description: Sets the maximum size of a message body
                                that the filter will hold in memory. Envoy will return
                                *HTTP 413* and will *not* initiate the authorization
                                process when buffer reaches the number set in this
                                field. Note that this setting will have precedence
                                over failure_mode_allow. Defaults to 4KB.
                              format: int32
                              type: integer
                            packAsBytes:
                              description: When this field is true, Envoy will send
                                the body sent to the external authorization service
                                with raw bytes.
                              type: boolean
                          type: object
                        requestTimeout:
                          description: Timeout for the ext auth service to respond.
                            Defaults to 200ms
                          type: string
                        statPrefix:
                          description: Optional additional prefix to use when emitting
                            statistics. This allows to distinguish emitted statistics
                            between configured ext_authz filters in an HTTP filter
                            chain.
                          type: string
                        statusOnError:
                          description: 'Sets the HTTP status that is returned to the
                            client when there is a network error between the filter
                            and the authorization server. The default status is HTTP
                            403 Forbidden. If set, this must be one of the following:
                            - 100 - 200 201 202 203 204 205 206 207 208 226 - 300
                            301 302 303 304 305 307 308 - 400 401 402 403 404 405
                            406 407 408 409 410 411 412 413 414 415 416 417 421 422
                            423 424 426 428 429 431 - 500 501 502 503 504 505 506
                            507 508 510 511'
                          format: int32
                          type: integer
                        transportApiVersion:
                          description: Determines the API version for the `ext_authz`
                            transport protocol that will be used by Envoy to communicate
                            with the auth server. Defaults to `V2`. For more info,
                            see the `transport_api_version` field [here](https://www.envoyproxy.io/docs/envoy/latest/api-v3/extensions/filters/http/ext_authz/v3/ext_authz.proto#extensions-filters-http-ext-authz-v3-extauthz).
                          enum:
                          - V3
                          type: string
                        userIdHeader:
                          description: If the auth server trusted id of the user,
                            it will be set in this header. Specifically this means
                            that this header will be sanitized form the incoming request.
                          type: string
                      type: object
                    extensions:
                      description: Extensions will be passed along from Listeners,
                        Gateways, VirtualServices, Routes, and Route tables to the
                        underlying Proxy, making them useful for controllers, validation
                        tools, etc. which interact with kubernetes yaml.
                      properties:
                        configs:
                          additionalProperties:
                            type: object
                            x-kubernetes-preserve-unknown-fields: true
                          type: object
                      type: object
                    grpcJsonTranscoder:
                      description: Exposed envoy config for the gRPC to JSON transcoding
                        filter, envoy.filters.http.grpc_json_transcoder. For more,
                        see https://www.envoyproxy.io/docs/envoy/latest/api-v3/extensions/filters/http/grpc_json_transcoder/v3/transcoder.proto
                      properties:
                        autoMapping:
                          description: Whether to route methods without the ``google.api.http``
                            option.
                          type: boolean
                        convertGrpcStatus:
                          description: Whether to convert gRPC status headers to JSON.
                            When trailer indicates a gRPC error and there was no HTTP
                            body, take ``google.rpc.Status`` from the ``grpc-status-details-bin``
                            header and use it as JSON body. If there was no such header,
                            make ``google.rpc.Status`` out of the ``grpc-status``
                            and ``grpc-message`` headers. The error details types
                            must be present in the ``proto_descriptor``.
                          type: boolean
                        ignoreUnknownQueryParameters:
                          description: Whether to ignore query parameters that cannot
                            be mapped to a corresponding protobuf field. Use this
                            if you cannot control the query parameters and do not
                            know them beforehand. Otherwise use ``ignored_query_parameters``.
                            Defaults to false.
                          type: boolean
                        ignoredQueryParameters:
                          description: A list of query parameters to be ignored for
                            transcoding method mapping. By default, the transcoder
                            filter will not transcode a request if there are any unknown/invalid
                            query parameters.
                          items:
                            type: string
                          type: array
                        matchIncomingRequestRoute:
                          description: 'Whether to keep the incoming request route
                            after the outgoing headers have been transformed to the
                            match the upstream gRPC service. Note: This means that
                            routes for gRPC services that are not transcoded cannot
                            be used in combination with *match_incoming_request_route*.'
                          type: boolean
                        printOptions:
                          description: Control options for response JSON. These options
                            are passed directly to `JsonPrintOptions <https://developers.google.com/protocol-buffers/docs/reference/cpp/
                            google.protobuf.util.json_util#JsonPrintOptions>`_.
                          properties:
                            addWhitespace:
                              description: Whether to add spaces, line breaks and
                                indentation to make the JSON output easy to read.
                                Defaults to false.
                              type: boolean
                            alwaysPrintEnumsAsInts:
                              description: Whether to always print enums as ints.
                                By default they are rendered as strings. Defaults
                                to false.
                              type: boolean
                            alwaysPrintPrimitiveFields:
                              description: Whether to always print primitive fields.
                                By default primitive fields with default values will
                                be omitted in JSON output. For example, an int32 field
                                set to 0 will be omitted. Setting this flag to true
                                will override the default behavior and print primitive
                                fields regardless of their values. Defaults to false.
                              type: boolean
                            preserveProtoFieldNames:
                              description: Whether to preserve proto field names.
                                By default protobuf will generate JSON field names
                                using the ``json_name`` option, or lower camel case,
                                in that order. Setting this flag will preserve the
                                original field names. Defaults to false.
                              type: boolean
                          type: object
                        protoDescriptor:
                          description: Supplies the filename of :ref:`the proto descriptor
                            set <config_grpc_json_generate_proto_descriptor_set>`
                            for the gRPC services.
                          type: string
                        protoDescriptorBin:
                          description: 'Supplies the binary content of :ref:`the proto
                            descriptor set <config_grpc_json_generate_proto_descriptor_set>`
                            for the gRPC services. Note: in yaml, this must be provided
                            as a base64 standard encoded string; yaml can''t handle
                            binary bytes'
                          format: byte
                          type: string
                        services:
                          description: A list of strings that supplies the fully qualified
                            service names (i.e. "package_name.service_name") that
                            the transcoder will translate. If the service name doesn't
                            exist in ``proto_descriptor``, Envoy will fail at startup.
                            The ``proto_descriptor`` may contain more services than
                            the service names specified here, but they won't be translated.
                          items:
                            type: string
                          type: array
                      type: object
                    grpcWeb:
                      properties:
                        disable:
                          description: Disable grpc web support.
                          type: boolean
                      type: object
                    gzip:
                      description: 'Gzip is an HTTP option which enables Gloo to compress
                        data returned from an upstream service upon client request.
                        Compression is useful in situations where large payloads need
                        to be transmitted without compromising the response time.
                        Example: ``` gzip: contentType: - "application/json" compressionLevel:
                        BEST ```'
                      properties:
                        compressionLevel:
                          description: A value used for selecting the zlib compression
                            level. This setting will affect speed and amount of compression
                            applied to the content. "BEST" provides higher compression
                            at the cost of higher latency, "SPEED" provides lower
                            compression with minimum impact on response time. "DEFAULT"
                            provides an optimal result between speed and compression.
                            This field will be set to "DEFAULT" if not specified.
                          enum:
                          - DEFAULT
                          - BEST
                          - SPEED
                          type: string
                        compressionStrategy:
                          description: A value used for selecting the zlib compression
                            strategy which is directly related to the characteristics
                            of the content. Most of the time "DEFAULT" will be the
                            best choice, though there are situations which changing
                            this parameter might produce better results. For example,
                            run-length encoding (RLE) is typically used when the content
                            is known for having sequences which same data occurs many
                            consecutive times. For more information about each strategy,
                            please refer to zlib manual.
                          enum:
                          - DEFAULT
                          - FILTERED
                          - HUFFMAN
                          - RLE
                          type: string
                        contentLength:
                          description: Minimum response length, in bytes, which will
                            trigger compression. The default value is 30.
                          maximum: 4294967295
                          minimum: 0
                          nullable: true
                          type: integer
                        contentType:
                          description: 'Set of strings that allows specifying which
                            mime-types yield compression; e.g., application/json,
                            text/html, etc. When this field is not defined, compression
                            will be applied to the following mime-types: "application/javascript",
                            "application/json", "application/xhtml+xml", "image/svg+xml",
                            "text/css", "text/html", "text/plain", "text/xml".'
                          items:
                            type: string
                          type: array
                        disableOnEtagHeader:
                          description: If true, disables compression when the response
                            contains an etag header. When it is false, the filter
                            will preserve weak etags and remove the ones that require
                            strong validation.
                          type: boolean
                        memoryLevel:
                          description: Value from 1 to 9 that controls the amount
                            of internal memory used by zlib. Higher values use more
                            memory, but are faster and produce better compression
                            results. The default value is 5.
                          maximum: 4294967295
                          minimum: 0
                          nullable: true
                          type: integer
                        removeAcceptEncodingHeader:
                          description: If true, removes accept-encoding from the request
                            headers before dispatching it to the upstream so that
                            responses do not get compressed before reaching the filter.
                          type: boolean
                        windowBits:
                          description: Value from 9 to 15 that represents the base
                            two logarithmic of the compressor's window size. Larger
                            window results in better compression at the expense of
                            memory usage. The default is 12 which will produce a 4096
                            bytes window. For more details about this parameter, please
                            refer to zlib manual > deflateInit2.
                          maximum: 4294967295
                          minimum: 0
                          nullable: true
                          type: integer
                      type: object
                    healthCheck:
                      description: enable [Envoy health checks](https://www.envoyproxy.io/docs/envoy/v1.7.0/api-v2/config/filter/http/health_check/v2/health_check.proto)
                        on this listener
                      properties:
                        path:
                          description: match health check requests using this exact
                            path
                          type: string
                      type: object
                    httpConnectionManagerSettings:
                      properties:
                        acceptHttp10:
                          description: 'For explanation of these settings see: https://www.envoyproxy.io/docs/envoy/latest/api-v2/api/v2/core/protocol.proto#envoy-api-msg-core-http1protocoloptions'
                          type: boolean
                        defaultHostForHttp10:
                          type: string
                        delayedCloseTimeout:
                          type: string
                        drainTimeout:
                          type: string
                        forwardClientCertDetails:
                          enum:
                          - SANITIZE
                          - FORWARD_ONLY
                          - APPEND_FORWARD
                          - SANITIZE_SET
                          - ALWAYS_FORWARD_ONLY
                          type: string
                        generateRequestId:
                          nullable: true
                          type: boolean
                        idleTimeout:
                          type: string
                        maxConnectionDuration:
                          description: For an explanation of these settings see https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/core/v3/protocol.proto#config-core-v3-httpprotocoloptions
                          type: string
                        maxRequestHeadersKb:
                          maximum: 4294967295
                          minimum: 0
                          nullable: true
                          type: integer
                        maxStreamDuration:
                          type: string
                        pathWithEscapedSlashesAction:
                          description: Action to take when request URL path contains
                            escaped slash sequences (%2F, %2f, %5C and %5c). The default
                            value can be overridden by the :ref:`http_connection_manager.path_with_escaped_slashes_action<config_http_conn_man_runtime_path_with_escaped_slashes_action>`
                            runtime variable. The :ref:`http_connection_manager.path_with_escaped_slashes_action_sampling<config_http_conn_man_runtime_path_with_escaped_slashes_action_enabled>`
                            runtime variable can be used to apply the action to a
                            portion of all requests.
                          enum:
                          - IMPLEMENTATION_SPECIFIC_DEFAULT
                          - KEEP_UNCHANGED
                          - REJECT_REQUEST
                          - UNESCAPE_AND_REDIRECT
                          - UNESCAPE_AND_FORWARD
                          type: string
                        preserveExternalRequestId:
                          type: boolean
                        properCaseHeaderKeyFormat:
                          type: boolean
                        proxy100Continue:
                          type: boolean
                        requestTimeout:
                          type: string
                        serverHeaderTransformation:
                          description: 'For an explanation of the settings see: https://www.envoyproxy.io/docs/envoy/latest/api-v3/extensions/filters/network/http_connection_manager/v3/http_connection_manager.proto.html#envoy-v3-api-enum-extensions-filters-network-http-connection-manager-v3-httpconnectionmanager-serverheadertransformation'
                          enum:
                          - OVERWRITE
                          - APPEND_IF_ABSENT
                          - PASS_THROUGH
                          type: string
                        serverName:
                          type: string
                        setCurrentClientCertDetails:
                          properties:
                            cert:
                              type: boolean
                            chain:
                              type: boolean
                            dns:
                              type: boolean
                            subject:
                              nullable: true
                              type: boolean
                            uri:
                              type: boolean
                          type: object
                        skipXffAppend:
                          type: boolean
                        streamIdleTimeout:
                          type: string
                        tracing:
                          properties:
                            datadogConfig:
                              properties:
                                clusterName:
                                  description: The name of the cluster to use for
                                    submitting traces to the Datadog agent. Note that
                                    the cluster must be defined in the :ref:`Bootstrap
                                    static cluster resources <envoy_api_field_config.bootstrap.v3.Bootstrap.StaticResources.clusters>`.
                                  type: string
                                collectorUpstreamRef:
                                  description: The upstream to use for submitting
                                    traces to the Datadog agent.
                                  properties:
                                    name:
                                      type: string
                                    namespace:
                                      type: string
                                  type: object
                                serviceName:
                                  description: The name used for the service when
                                    traces are generated by envoy.
                                  type: string
                              type: object
                            environmentVariablesForTags:
                              description: Optional. If specified, Envoy will include
                                the environment variables with the given tag as tracing
                                tags.
                              items:
                                description: Requests can produce traces with custom
                                  tags. TracingTagEnvironmentVariable defines an environment
                                  variable which gets added as custom tag.
                                properties:
                                  defaultValue:
                                    description: When the environment variable is
                                      not found, the tag value will be populated with
                                      this default value if specified, otherwise no
                                      tag will be populated.
                                    type: string
                                  name:
                                    description: Environment variable name to obtain
                                      the value to populate the tag value.
                                    type: string
                                  tag:
                                    description: Used to populate the tag name.
                                    type: string
                                type: object
                              type: array
                            literalsForTags:
                              description: Optional. If specified, Envoy will include
                                the literals with the given tag as tracing tags.
                              items:
                                description: Requests can produce traces with custom
                                  tags. TracingTagLiteral defines a literal which
                                  gets added as custom tag.
                                properties:
                                  tag:
                                    description: Used to populate the tag name.
                                    type: string
                                  value:
                                    description: Static literal value to populate
                                      the tag value.
                                    type: string
                                type: object
                              type: array
                            requestHeadersForTags:
                              description: Optional. If specified, Envoy will include
                                the headers and header values for any matching request
                                headers.
                              items:
                                type: string
                              type: array
                            tracePercentages:
                              description: Requests can produce traces by random sampling
                                or when the `x-client-trace-id` header is provided.
                                TracePercentages defines the limits for random, forced,
                                and overall tracing percentages.
                              properties:
                                clientSamplePercentage:
                                  description: Percentage of requests that should
                                    produce traces when the `x-client-trace-id` header
                                    is provided. optional, defaults to 100.0 This
                                    should be a value between 0.0 and 100.0, with
                                    up to 6 significant digits.
                                  nullable: true
                                  type: number
                                overallSamplePercentage:
                                  description: Overall percentage of requests that
                                    should produce traces. optional, defaults to 100.0
                                    This should be a value between 0.0 and 100.0,
                                    with up to 6 significant digits.
                                  nullable: true
                                  type: number
                                randomSamplePercentage:
                                  description: Percentage of requests that should
                                    produce traces by random sampling. optional, defaults
                                    to 100.0 This should be a value between 0.0 and
                                    100.0, with up to 6 significant digits.
                                  nullable: true
                                  type: number
                              type: object
                            verbose:
                              description: 'Optional. If true, Envoy will include
                                logs for streaming events. Default: false.'
                              type: boolean
                            zipkinConfig:
                              properties:
                                clusterName:
                                  description: The name of the cluster that hosts
                                    the Zipkin collectors. Note that the Zipkin cluster
                                    must be defined in the :ref:`Bootstrap static
                                    cluster resources <envoy_api_field_config.bootstrap.v3.Bootstrap.StaticResources.clusters>`.
                                  type: string
                                collectorEndpoint:
                                  description: The API endpoint of the Zipkin service
                                    where the spans will be sent. When using a standard
                                    Zipkin installation, the API endpoint is typically
                                    /api/v1/spans, which is the default value.
                                  type: string
                                collectorEndpointVersion:
                                  description: Determines the selected collector endpoint
                                    version. By default, the ``HTTP_JSON_V1`` will
                                    be used.
                                  enum:
                                  - DEPRECATED_AND_UNAVAILABLE_DO_NOT_USE
                                  - HTTP_JSON
                                  - HTTP_PROTO
                                  type: string
                                collectorUpstreamRef:
                                  description: The upstream that hosts the Zipkin
                                    collectors.
                                  properties:
                                    name:
                                      type: string
                                    namespace:
                                      type: string
                                  type: object
                                sharedSpanContext:
                                  description: Determines whether client and server
                                    spans will share the same span context. The default
                                    value is true.
                                  nullable: true
                                  type: boolean
                                traceId128bit:
                                  description: Determines whether a 128bit trace id
                                    will be used when creating a new trace instance.
                                    The default value is false, which will result
                                    in a 64 bit trace id being used.
                                  type: boolean
                              type: object
                          type: object
                        upgrades:
                          description: 'HttpConnectionManager configuration for protocol
                            upgrade requests. Note: WebSocket upgrades are enabled
                            by default on the HTTP Connection Manager and must be
                            explicitly disabled.'
                          items:
                            properties:
                              websocket:
                                description: Specification for websocket upgrade requests.
                                properties:
                                  enabled:
                                    description: Whether the upgrade should be enabled.
                                      If left unset, Envoy will enable the protocol
                                      upgrade.
                                    nullable: true
                                    type: boolean
                                type: object
                            type: object
                          type: array
                        useRemoteAddress:
                          nullable: true
                          type: boolean
                        via:
                          type: string
                        xffNumTrustedHops:
                          format: int32
                          type: integer
                      type: object
                    leftmostXffAddress:
                      description: 'Enterprise-only: Setting this value to true will
                        grab the leftmost IP address from the x-forwarded-for header
                        and set it as the downstream address. It is worth noting that
                        the x-forwarded-for header can be tampered with by clients
                        and should therefore be sanitized by any preceding proxies
                        / load balancers if this option is to be used.'
                      nullable: true
                      type: boolean
                    proxyLatency:
                      description: 'Enterprise-only: Proxy latency'
                      properties:
                        chargeClusterStat:
                          description: Charge a stat per upstream cluster. If not
                            specified, defaults to true.
                          nullable: true
                          type: boolean
                        chargeListenerStat:
                          description: Charge a stat per listener. If not specified,
                            defaults to true.
                          nullable: true
                          type: boolean
                        emitDynamicMetadata:
                          description: Should we emit request timing to dynamic metadata.
                            defaults to true.
                          nullable: true
                          type: boolean
                        measureRequestInternally:
                          description: When FIRST_OUTGOING (i.e. LAST_INCOMING_FIRST_OUTGOING
                            or FIRST_INCOMING_FIRST_OUTGOING) is instead of when the
                            first byte is sent upstream. This has the advantage of
                            not measuring the time selected for request measurment,
                            finish measuring proxy latency when decodeHeader for this
                            it takes a connection to form, which may skew the P99.
                            filter is hit instead of when the first byte is sent upstream.
                            This has the advantage of not for this to work the filter
                            should be inserted last, just before the router filter.
                            measuring the time it takes a connection to form, which
                            may skew the P99. For this to work this filter should
                            be inserted last, just before the router filter. This
                            has no effect if other measurement type is selected, and
                            has no effect on how response is measured.
                          type: boolean
                        request:
                          description: How to measure the request.
                          enum:
                          - LAST_INCOMING_FIRST_OUTGOING
                          - FIRST_INCOMING_FIRST_OUTGOING
                          - LAST_INCOMING_LAST_OUTGOING
                          - FIRST_INCOMING_LAST_OUTGOING
                          type: string
                        response:
                          description: How measure the response.
                          enum:
                          - LAST_INCOMING_FIRST_OUTGOING
                          - FIRST_INCOMING_FIRST_OUTGOING
                          - LAST_INCOMING_LAST_OUTGOING
                          - FIRST_INCOMING_LAST_OUTGOING
                          type: string
                      type: object
                    ratelimitServer:
                      description: 'Enterprise-only: Settings for the rate limiting
                        server itself'
                      properties:
                        denyOnFail:
                          type: boolean
                        rateLimitBeforeAuth:
                          description: 'Set this is set to true if you would like
                            to rate limit traffic before applying external auth to
                            it. *Note*: When this is true, you will lose some features
                            like being able to rate limit a request based on its auth
                            state'
                          type: boolean
                        ratelimitServerRef:
                          properties:
                            name:
                              type: string
                            namespace:
                              type: string
                          type: object
                        requestTimeout:
                          type: string
                      type: object
                    sanitizeClusterHeader:
                      description: 'Enterprise-only: If using the HTTP header specified
                        by cluster_header to direct traffic to a cluster, this option
                        will sanitize that header from downstream traffic. Defaults
                        to false'
                      nullable: true
                      type: boolean
                    waf:
                      description: 'Enterprise-only: Config for Web Application Firewall
                        (WAF), supporting the popular ModSecurity 3.0 ruleset'
                      properties:
                        auditLogging:
                          description: Audit Log settings
                          properties:
                            action:
                              enum:
                              - NEVER
                              - RELEVANT_ONLY
                              - ALWAYS
                              type: string
                            location:
                              enum:
                              - FILTER_STATE
                              - DYNAMIC_METADATA
                              type: string
                          type: object
                        coreRuleSet:
                          description: Add OWASP core rule set if nil will not be
                            added
                          properties:
                            customSettingsFile:
                              description: String representing the core rule set custom
                                config options
                              type: string
                            customSettingsString:
                              description: String representing the core rule set custom
                                config options
                              type: string
                          type: object
                        customInterventionMessage:
                          description: Custom massage to display if an intervention
                            occurs.
                          type: string
                        disabled:
                          description: Disable waf on this resource (if omitted defaults
                            to false). If a route/virtual host is configured with
                            WAF, you must explicitly disable its WAF, i.e., it will
                            not inherit the disabled status of its parent
                          type: boolean
                        requestHeadersOnly:
                          description: Only process request headers, not buffering
                            the request body
                          type: boolean
                        responseHeadersOnly:
                          description: Only process response headers, not buffering
                            the response body
                          type: boolean
                        ruleSets:
                          description: Custom rule sets rules to add
                          items:
                            properties:
                              directory:
                                description: A directory to include. all *.conf files
                                  in this directory will be included. sub directories
                                  will NOT be checked.
                                type: string
                              files:
                                description: Array of files to include
                                items:
                                  type: string
                                type: array
                              ruleStr:
                                description: String of rules which are added directly
                                type: string
                            type: object
                          type: array
                      type: object
                    wasm:
                      description: 'Enterprise-only: WASM related configuration [experimental!]'
                      properties:
                        filters:
                          description: list of WASM filters to be added into the filter
                            chain
                          items:
                            description: This message defines a single Envoy WASM
                              filter to be placed into the filter chain
                            properties:
                              config:
                                description: Filter/service configuration used to
                                  configure or reconfigure a plugin (proxy_on_configuration).
                                  `google.protobuf.Struct` is serialized as JSON before
                                  passing it to the plugin. `google.protobuf.BytesValue`
                                  and `google.protobuf.StringValue` are passed directly
                                  without the wrapper.
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              filePath:
                                description: path from which to load wasm filter from
                                  disk
                                type: string
                              filterStage:
                                description: the stage in the filter chain where this
                                  filter should be placed
                                properties:
                                  predicate:
                                    description: How this filter should be placed
                                      relative to the stage
                                    enum:
                                    - During
                                    - Before
                                    - After
                                    type: string
                                  stage:
                                    description: stage of the filter chain in which
                                      the selected filter should be added
                                    enum:
                                    - FaultStage
                                    - CorsStage
                                    - WafStage
                                    - AuthNStage
                                    - AuthZStage
                                    - RateLimitStage
                                    - AcceptedStage
                                    - OutAuthStage
                                    - RouteStage
                                    type: string
                                type: object
                              image:
                                description: name of image which houses the compiled
                                  wasm filter
                                type: string
                              name:
                                description: the name of the filter, used for logging
                                type: string
                              rootId:
                                description: the root_id of the filter which should
                                  be run, if this value is incorrect, or empty the
                                  filter will crash
                                type: string
                              vmType:
                                description: selected VM type
                                enum:
                                - V8
                                - WAVM
                                type: string
                            type: object
                          type: array
                      type: object
                  type: object
                virtualServiceNamespaces:
                  description: Restrict the search by providing a list of valid search
                    namespaces here. Setting '*' will search all namespaces, equivalent
                    to omitting this value.
                  items:
                    type: string
                  type: array
                virtualServiceSelector:
                  additionalProperties:
                    type: string
                  description: Select virtual services by their label. If `virtual_service_namespaces`
                    is provided below, this will apply only to virtual services in
                    the namespaces specified. Only one of `virtualServices` or `virtualServiceSelector`
                    should be provided.
                  type: object
                virtualServices:
                  description: Names & namespace refs of the virtual services which
                    contain the actual routes for the gateway. If the list is empty,
                    all virtual services in all namespaces that Gloo watches will
                    apply, with accordance to `ssl` flag on `Gateway` above. The default
                    namespace matching behavior can be overridden via `virtual_service_namespaces`
                    flag below. Only one of `virtualServices` or `virtualServiceSelector`
                    should be provided.
                  items:
                    description: A way to reference resources across namespaces
                    properties:
                      name:
                        type: string
                      namespace:
                        type: string
                    type: object
                  type: array
              type: object
            options:
              description: top level optional configuration for all routes on the
                gateway
              properties:
                accessLoggingService:
                  properties:
                    accessLog:
                      items:
                        properties:
                          fileSink:
                            description: Output access logs to local file
                            properties:
                              jsonFormat:
                                description: the format object by which to envoy will
                                  emit the logs in a structured way. https://www.envoyproxy.io/docs/envoy/v1.14.1/configuration/observability/access_log#format-dictionaries
                                type: object
                                x-kubernetes-preserve-unknown-fields: true
                              path:
                                description: the file path to which the file access
                                  logging service will sink
                                type: string
                              stringFormat:
                                description: the format string by which envoy will
                                  format the log lines https://www.envoyproxy.io/docs/envoy/v1.14.1/configuration/observability/access_log#config-access-log-format-strings
                                type: string
                            type: object
                          grpcService:
                            description: Send access logs to gRPC service
                            properties:
                              additionalRequestHeadersToLog:
                                items:
                                  type: string
                                type: array
                              additionalResponseHeadersToLog:
                                items:
                                  type: string
                                type: array
                              additionalResponseTrailersToLog:
                                items:
                                  type: string
                                type: array
                              logName:
                                description: name of log stream
                                type: string
                              staticClusterName:
                                type: string
                            type: object
                        type: object
                      type: array
                  type: object
                extensions:
                  description: Extensions will be passed along from Listeners, Gateways,
                    VirtualServices, Routes, and Route tables to the underlying Proxy,
                    making them useful for controllers, validation tools, etc. which
                    interact with kubernetes yaml.
                  properties:
                    configs:
                      additionalProperties:
                        type: object
                        x-kubernetes-preserve-unknown-fields: true
                      type: object
                  type: object
                perConnectionBufferLimitBytes:
                  description: Soft limit on size of the listener's new connection
                    read and write buffers. If unspecified, defaults to 1MiB For more
                    info, check out the [Envoy docs](https://www.envoyproxy.io/docs/envoy/v1.14.1/api-v2/api/v2/listener.proto)
                  maximum: 4294967295
                  minimum: 0
                  nullable: true
                  type: integer
                socketOptions:
                  description: Additional socket options that may not be present in
                    Envoy source code or precompiled binaries.
                  items:
                    description: 'Generic socket option message. This would be used
                      to set socket options that might not exist in upstream kernels
                      or precompiled Envoy binaries. [#next-free-field: 7]'
                    properties:
                      bufValue:
                        description: Otherwise it's a byte buffer.
                        format: byte
                        type: string
                      description:
                        description: An optional name to give this socket option for
                          debugging, etc. Uniqueness is not required and no special
                          meaning is assumed.
                        type: string
                      intValue:
                        description: Because many sockopts take an int value.
                        format: int64
                        type: integer
                      level:
                        description: Corresponding to the level value passed to setsockopt,
                          such as IPPROTO_TCP
                        format: int64
                        type: integer
                      name:
                        description: The numeric name as passed to setsockopt
                        format: int64
                        type: integer
                      state:
                        description: The state in which the option will be applied.
                          When used in BindConfig STATE_PREBIND is currently the only
                          valid value.
                        enum:
                        - STATE_PREBIND
                        - STATE_BOUND
                        - STATE_LISTENING
                        type: string
                    type: object
                  type: array
              type: object
            proxyNames:
              description: Names of the [`Proxy`](https://gloo.solo.io/api/github.com/solo-io/gloo/projects/gloo/api/v1/proxy.proto.sk/)
                resources to generate from this gateway. If other gateways exist which
                point to the same proxy, Gloo will join them together.
              items:
                type: string
              type: array
            routeOptions:
              description: Route configuration options that live under Envoy's [RouteConfigurationOptions](https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/route/v3/route.proto#config-route-v3-routeconfiguration)
              properties:
                maxDirectResponseBodySizeBytes:
                  description: The maximum bytes of the response direct response body
                    size. If not specified the default is 4096. Please refer to the
                    [Envoy documentation](https://www.envoyproxy.io/docs/envoy/latest/api-v3/config/route/v3/route.proto#envoy-v3-api-field-config-route-v3-routeconfiguration-max-direct-response-body-size-bytes)
                    for more details about the `max_direct_response_body_size_bytes`
                    attribute.
                  maximum: 4294967295
                  minimum: 0
                  nullable: true
                  type: integer
              type: object
            ssl:
              description: if set to false, only use virtual services without ssl
                configured. if set to true, only use virtual services with ssl configured.
              type: boolean
            status:
              description: Status indicates the validation status of this resource.
                Status is read-only by clients, and set by gloo during validation
              type: object
              x-kubernetes-preserve-unknown-fields: true
            tcpGateway:
              properties:
                options:
                  description: TCP Gateway configuration
                  properties:
                    tcpProxySettings:
                      properties:
                        idleTimeout:
                          type: string
                        maxConnectAttempts:
                          maximum: 4294967295
                          minimum: 0
                          nullable: true
                          type: integer
                        tunnelingConfig:
                          description: If set, this configures tunneling, e.g. configuration
                            options to tunnel multiple TCP payloads over a shared
                            HTTP tunnel. If this message is absent, the payload will
                            be proxied upstream as per usual.
                          properties:
                            hostname:
                              description: The hostname to send in the synthesized
                                CONNECT headers to the upstream proxy.
                              type: string
                          type: object
                      type: object
                  type: object
                tcpHosts:
                  description: TCP hosts that the gateway can route to
                  items:
                    properties:
                      destination:
                        properties:
                          forwardSniClusterName:
                            description: 'Forwards the request to a cluster name matching
                              the TLS SNI name https://www.envoyproxy.io/docs/envoy/latest/api-v2/config/filter/network/sni_cluster/empty/sni_cluster
                              Note: This filter will only work properly with TLS connections
                              in which the upstream SNI domain is specified'
                            maxProperties: 0
                            type: object
                          multi:
                            description: Use MultiDestination to load balance requests
                              between multiple upstreams (by weight)
                            properties:
                              destinations:
                                description: This list must contain at least one destination
                                  or the listener housing this route will be invalid,
                                  causing Gloo to error the parent proxy resource.
                                items:
                                  description: WeightedDestination attaches a weight
                                    to a single destination.
                                  properties:
                                    destination:
                                      properties:
                                        consul:
                                          description: Route requests to a consul
                                            service
                                          properties:
                                            dataCenters:
                                              description: If provided, load balance
                                                traffic only between services running
                                                in the given [data centers](https://www.consul.io/docs/internals/architecture.html).
                                              items:
                                                type: string
                                              type: array
                                            serviceName:
                                              description: The name of the target
                                                service. This field is required.
                                              type: string
                                            tags:
                                              description: If provided, load balance
                                                traffic only between services matching
                                                all the given tags.
                                              items:
                                                type: string
                                              type: array
                                          type: object
                                        destinationSpec:
                                          description: Some upstreams utilize options
                                            which require or permit additional configuration
                                            on routes targeting them. gRPC upstreams,
                                            for example, allow specifying REST-style
                                            parameters for JSON-to-gRPC transcoding
                                            in the destination config. If the destination
                                            config is required for the upstream and
                                            not provided by the user, Gloo will invalidate
                                            the destination and its parent resources.
                                          properties:
                                            aws:
                                              properties:
                                                invocationStyle:
                                                  description: Can be either Sync
                                                    or Async.
                                                  enum:
                                                  - SYNC
                                                  - ASYNC
                                                  type: string
                                                logicalName:
                                                  description: The Logical Name of
                                                    the LambdaFunctionSpec to be invoked.
                                                  type: string
                                                responseTransformation:
                                                  description: de-jsonify response
                                                    bodies returned from aws lambda
                                                  type: boolean
                                              type: object
                                            azure:
                                              properties:
                                                functionName:
                                                  description: The Function Name of
                                                    the FunctionSpec to be invoked.
                                                  type: string
                                              type: object
                                            grpc:
                                              properties:
                                                function:
                                                  description: The name of the function.
                                                  type: string
                                                package:
                                                  description: The proto package of
                                                    the function.
                                                  type: string
                                                parameters:
                                                  description: Parameters describe
                                                    how to extract the function parameters
                                                    from the request.
                                                  properties:
                                                    headers:
                                                      additionalProperties:
                                                        type: string
                                                      description: 'headers that will
                                                        be used to extract data for
                                                        processing output templates
                                                        Gloo will search for parameters
                                                        by their name in header value
                                                        strings, enclosed in single
                                                        curly braces Example: extensions:
                                                        parameters: headers: x-user-id:
                                                        ''{userId}'''
                                                      type: object
                                                    path:
                                                      description: 'part of the (or
                                                        the entire) path that will
                                                        be used extract data for processing
                                                        output templates Gloo will
                                                        search for parameters by their
                                                        name in header value strings,
                                                        enclosed in single curly braces
                                                        Example: extensions: parameters:
                                                        path: /users/{ userId }'
                                                      nullable: true
                                                      type: string
                                                  type: object
                                                service:
                                                  description: The name of the service
                                                    of the function.
                                                  type: string
                                              type: object
                                            rest:
                                              properties:
                                                functionName:
                                                  type: string
                                                parameters:
                                                  properties:
                                                    headers:
                                                      additionalProperties:
                                                        type: string
                                                      description: 'headers that will
                                                        be used to extract data for
                                                        processing output templates
                                                        Gloo will search for parameters
                                                        by their name in header value
                                                        strings, enclosed in single
                                                        curly braces Example: extensions:
                                                        parameters: headers: x-user-id:
                                                        ''{userId}'''
                                                      type: object
                                                    path:
                                                      description: 'part of the (or
                                                        the entire) path that will
                                                        be used extract data for processing
                                                        output templates Gloo will
                                                        search for parameters by their
                                                        name in header value strings,
                                                        enclosed in single curly braces
                                                        Example: extensions: parameters:
                                                        path: /users/{ userId }'
                                                      nullable: true
                                                      type: string
                                                  type: object
                                                responseTransformation:
                                                  properties:
                                                    advancedTemplates:
                                                      description: If set to true,
                                                        use JSON pointer notation
                                                        (e.g. "time/start") instead
                                                        of dot notation (e.g. "time.start")
                                                        to access JSON elements. Defaults
                                                        to false.
                                                      type: boolean
                                                    body:
                                                      description: Apply a template
                                                        to the body
                                                      properties:
                                                        text:
                                                          type: string
                                                      type: object
                                                    dynamicMetadataValues:
                                                      description: Use this field
                                                        to set Dynamic Metadata.
                                                      items:
                                                        description: Defines an [Envoy
                                                          Dynamic Metadata](https://www.envoyproxy.io/docs/envoy/latest/configuration/advanced/well_known_dynamic_metadata)
                                                          entry.
                                                        properties:
                                                          key:
                                                            description: The metadata
                                                              key.
                                                            type: string
                                                          metadataNamespace:
                                                            description: The metadata
                                                              namespace. Defaults
                                                              to the filter namespace.
                                                            type: string
                                                          value:
                                                            description: A template
                                                              that determines the
                                                              metadata value.
                                                            properties:
                                                              text:
                                                                type: string
                                                            type: object
                                                        type: object
                                                      type: array
                                                    extractors:
                                                      additionalProperties:
                                                        properties:
                                                          body:
                                                            description: Extract information
                                                              from the request/response
                                                              body
                                                            maxProperties: 0
                                                            type: object
                                                          header:
                                                            description: Extract information
                                                              from headers
                                                            type: string
                                                          regex:
                                                            description: Only strings
                                                              matching this regular
                                                              expression will be part
                                                              of the extraction. The
                                                              most simple value for
                                                              this field is '.*',
                                                              which matches the whole
                                                              source. The field is
                                                              required. If extraction
                                                              fails the result is
                                                              an empty value.
                                                            type: string
                                                          subgroup:
                                                            description: If your regex
                                                              contains capturing groups,
                                                              use this field to determine
                                                              which group should be
                                                              selected.
                                                            format: int32
                                                            type: integer
                                                        type: object
                                                      description: Use this attribute
                                                        to extract information from
                                                        the request. It consists of
                                                        a map of strings to extractors.
                                                        The extractor will defines
                                                        which information will be
                                                        extracted, while the string
                                                        key will provide the extractor
                                                        with a name. You can reference
                                                        extractors by their name in
                                                        templates, e.g. "{{ my-extractor
                                                        }}" will render to the value
                                                        of the "my-extractor" extractor.
                                                      type: object
                                                    headers:
                                                      additionalProperties:
                                                        properties:
                                                          text:
                                                            type: string
                                                        type: object
                                                      description: 'Use this attribute
                                                        to transform request/response
                                                        headers. It consists of a
                                                        map of strings to templates.
                                                        The string key determines
                                                        the name of the resulting
                                                        header, the rendered template
                                                        will determine the value.
                                                        Any existing headers with
                                                        the same header name will
                                                        be replaced by the transformed
                                                        header. If a header name is
                                                        included in `headers` and
                                                        `headers_to_append`, it will
                                                        first be replaced the template
                                                        in `headers`, then additional
                                                        header values will be appended
                                                        by the templates defined in
                                                        `headers_to_append`. For example,
                                                        the following header transformation
                                                        configuration:'
                                                      type: object
                                                    headersToAppend:
                                                      description: Use this attribute
                                                        to transform request/response
                                                        headers. It consists of an
                                                        array of string/template objects.
                                                        Use this attribute to define
                                                        multiple templates for a single
                                                        header. Header template(s)
                                                        defined here will be appended
                                                        to any existing headers with
                                                        the same header name, not
                                                        replace existing ones. See
                                                        `headers` documentation to
                                                        see an example of usage.
                                                      items:
                                                        description: Defines a header-template
                                                          pair to be used in `headers_to_append`
                                                        properties:
                                                          key:
                                                            description: Header name
                                                            type: string
                                                          value:
                                                            description: Apply a template
                                                              to the header value
                                                            properties:
                                                              text:
                                                                type: string
                                                            type: object
                                                        type: object
                                                      type: array
                                                    ignoreErrorOnParse:
                                                      description: If set to true,
                                                        Envoy will not throw an exception
                                                        in case the body parsing fails.
                                                      type: boolean
                                                    mergeExtractorsToBody:
                                                      description: Merge all defined
                                                        extractors to the request/response
                                                        body. If you want to nest
                                                        elements inside the body,
                                                        use dot separator in the extractor
                                                        name.
                                                      type: object
                                                    parseBodyBehavior:
                                                      enum:
                                                      - ParseAsJson
                                                      - DontParse
                                                      type: string
                                                    passthrough:
                                                      description: This will cause
                                                        the transformation filter
                                                        not to buffer the body. Use
                                                        this setting if the response
                                                        body is large and you don't
                                                        need to transform nor extract
                                                        information from it.
                                                      type: object
                                                  type: object
                                              type: object
                                          type: object
                                        kube:
                                          description: Route requests to a kubernetes
                                            service
                                          properties:
                                            port:
                                              description: The port attribute of the
                                                service
                                              format: int32
                                              type: integer
                                            ref:
                                              description: The target service
                                              properties:
                                                name:
                                                  type: string
                                                namespace:
                                                  type: string
                                              type: object
                                          type: object
                                        subset:
                                          description: If specified, traffic will
                                            only be routed to a subset of the upstream.
                                            If upstream doesn't contain the specified
                                            subset, we will fallback to normal upstream
                                            routing.
                                          properties:
                                            values:
                                              additionalProperties:
                                                type: string
                                              type: object
                                          type: object
                                        upstream:
                                          description: Route requests to a Gloo upstream
                                          properties:
                                            name:
                                              type: string
                                            namespace:
                                              type: string
                                          type: object
                                      type: object
                                    options:
                                      description: Apply configuration to traffic
                                        that is sent to this weighted destination
                                      properties:
                                        bufferPerRoute:
                                          description: 'BufferPerRoute can be used
                                            to set the maximum request size that the
                                            filter will buffer before the connection
                                            manager will stop buffering and return
                                            a 413 response. Note: If you have not
                                            set a global config (at the gateway level),
                                            this override will not do anything by
                                            itself.'
                                          properties:
                                            buffer:
                                              description: 'Override the global configuration
                                                of the buffer filter with this new
                                                config. Note: If you have not set
                                                a global config (at the gateway level),
                                                this override will not do anything
                                                by itself.'
                                              properties:
                                                maxRequestBytes:
                                                  description: The maximum request
                                                    size that the filter will buffer
                                                    before the connection manager
                                                    will stop buffering and return
                                                    a 413 response.
                                                  maximum: 4294967295
                                                  minimum: 0
                                                  nullable: true
                                                  type: integer
                                              type: object
                                            disabled:
                                              description: Disable the buffer filter
                                                for this particular vhost or route.
                                              type: boolean
                                          type: object
                                        csrf:
                                          description: Csrf can be used to set percent
                                            of requests for which the CSRF filter
                                            is enabled, enable shadow-only mode where
                                            policies will be evaluated and tracked,
                                            but not enforced and add additional source
                                            origins that will be allowed in addition
                                            to the destination origin. For more, see
                                            https://www.envoyproxy.io/docs/envoy/latest/api-v2/config/filter/http/csrf/v2/csrf.proto
                                          properties:
                                            additionalOrigins:
                                              description: Specifies additional source
                                                origins that will be allowed in addition
                                                to the destination origin.
                                              items:
                                                description: 'Specifies the way to
                                                  match a string. [#next-free-field:
                                                  7]'
                                                properties:
                                                  exact:
                                                    description: The input string
                                                      must match exactly the string
                                                      specified here.
                                                    type: string
                                                  ignoreCase:
                                                    description: If true, indicates
                                                      the exact/prefix/suffix matching
                                                      should be case insensitive.
                                                      This has no effect for the safe_regex
                                                      match. For example, the matcher
                                                      *data* will match both input
                                                      string *Data* and *data* if
                                                      set to true.
                                                    type: boolean
                                                  prefix:
                                                    description: 'The input string
                                                      must have the prefix specified
                                                      here. Note: empty prefix is
                                                      not allowed, please use regex
                                                      instead.'
                                                    type: string
                                                  safeRegex:
                                                    description: The input string
                                                      must match the regular expression
                                                      specified here.
                                                    properties:
                                                      googleRe2:
                                                        description: Google's RE2
                                                          regex engine.
                                                        properties:
                                                          maxProgramSize:
                                                            description: This field
                                                              controls the RE2 "program
                                                              size" which is a rough
                                                              estimate of how complex
                                                              a compiled regex is
                                                              to evaluate. A regex
                                                              that has a program size
                                                              greater than the configured
                                                              value will fail to compile.
                                                              In this case, the configured
                                                              max program size can
                                                              be increased or the
                                                              regex can be simplified.
                                                              If not specified, the
                                                              default is 100.
                                                            maximum: 4294967295
                                                            minimum: 0
                                                            nullable: true
                                                            type: integer
                                                        type: object
                                                      regex:
                                                        description: The regex match
                                                          string. The string must
                                                          be supported by the configured
                                                          engine.
                                                        type: string
                                                    type: object
                                                  suffix:
                                                    description: 'The input string
                                                      must have the suffix specified
                                                      here. Note: empty prefix is
                                                      not allowed, please use regex
                                                      instead.'
                                                    type: string
                                                type: object
                                              type: array
                                            filterEnabled:
                                              description: Specifies the % of requests
                                                for which the CSRF filter is enabled.
                                              properties:
                                                defaultValue:
                                                  description: Default value if the
                                                    runtime value's for the numerator/denominator
                                                    keys are not available.
                                                  properties:
                                                    denominator:
                                                      description: Specifies the denominator.
                                                        If the denominator specified
                                                        is less than the numerator,
                                                        the final fractional percentage
                                                        is capped at 1 (100%).
                                                      enum:
                                                      - HUNDRED
                                                      - TEN_THOUSAND
                                                      - MILLION
                                                      type: string
                                                    numerator:
                                                      description: Specifies the numerator.
                                                        Defaults to 0.
                                                      format: int32
                                                      type: integer
                                                  type: object
                                                runtimeKey:
                                                  description: Runtime key for a YAML
                                                    representation of a FractionalPercent.
                                                  type: string
                                              type: object
                                            shadowEnabled:
                                              description: Specifies that CSRF policies
                                                will be evaluated and tracked, but
                                                not enforced.
                                              properties:
                                                defaultValue:
                                                  description: Default value if the
                                                    runtime value's for the numerator/denominator
                                                    keys are not available.
                                                  properties:
                                                    denominator:
                                                      description: Specifies the denominator.
                                                        If the denominator specified
                                                        is less than the numerator,
                                                        the final fractional percentage
                                                        is capped at 1 (100%).
                                                      enum:
                                                      - HUNDRED
                                                      - TEN_THOUSAND
                                                      - MILLION
                                                      type: string
                                                    numerator:
                                                      description: Specifies the numerator.
                                                        Defaults to 0.
                                                      format: int32
                                                      type: integer
                                                  type: object
                                                runtimeKey:
                                                  description: Runtime key for a YAML
                                                    representation of a FractionalPercent.
                                                  type: string
                                              type: object
                                          type: object
                                        extauth:
                                          description: 'Enterprise-only: Authentication
                                            configuration'
                                          properties:
                                            configRef:
                                              description: A reference to an AuthConfig.
                                                This is used to configure the Gloo
                                                Edge Enterprise extauth server.
                                              properties:
                                                name:
                                                  type: string
                                                namespace:
                                                  type: string
                                              type: object
                                            customAuth:
                                              description: Use this field if you are
                                                running your own custom extauth server.
                                              properties:
                                                contextExtensions:
                                                  additionalProperties:
                                                    type: string
                                                  description: When a request matches
                                                    the virtual host, route, or weighted
                                                    destination on which this configuration
                                                    is defined, Gloo will add the
                                                    given context_extensions to the
                                                    request that is sent to the external
                                                    authorization server. This allows
                                                    the server to base the auth decision
                                                    on metadata that you define on
                                                    the source of the request.
                                                  type: object
                                                name:
                                                  description: '[Enterprise-only]
                                                    Only required in the case where
                                                    multiple auth servers are configured
                                                    in Settings This name must match
                                                    a key in the named_extauth Settings.'
                                                  type: string
                                              type: object
                                            disable:
                                              description: Set to true to disable
                                                auth on the virtual host/route.
                                              type: boolean
                                          type: object
                                        extensions:
                                          description: Extensions will be passed along
                                            from Listeners, Gateways, VirtualServices,
                                            Routes, and Route tables to the underlying
                                            Proxy, making them useful for controllers,
                                            validation tools, etc. which interact
                                            with kubernetes yaml.
                                          properties:
                                            configs:
                                              additionalProperties:
                                                type: object
                                                x-kubernetes-preserve-unknown-fields: true
                                              type: object
                                          type: object
                                        headerManipulation:
                                          description: Append/Remove headers on Requests
                                            or Responses to/from this Weighted Destination
                                          properties:
                                            requestHeadersToAdd:
                                              description: Specifies a list of HTTP
                                                headers that should be added to each
                                                request handled by this route or virtual
                                                host. For more information, including
                                                details on header value syntax, see
                                                the [Envoy documentation](https://www.envoyproxy.io/docs/envoy/latest/configuration/http_conn_man/headers#config-http-conn-man-headers-custom-request-headers)
                                                .
                                              items:
                                                description: Header name/value pair
                                                  plus option to control append behavior.
                                                properties:
                                                  append:
                                                    description: Should the value
                                                      be appended? If true (default),
                                                      the value is appended to existing
                                                      values.
                                                    nullable: true
                                                    type: boolean
                                                  header:
                                                    description: Explicitly specified
                                                      header
                                                    properties:
                                                      key:
                                                        description: Header name.
                                                        type: string
                                                      value:
                                                        description: Header value.
                                                        type: string
                                                    type: object
                                                  headerSecretRef:
                                                    description: Reference to header
                                                      contained in a secret
                                                    properties:
                                                      name:
                                                        type: string
                                                      namespace:
                                                        type: string
                                                    type: object
                                                type: object
                                              type: array
                                            requestHeadersToRemove:
                                              description: Specifies a list of HTTP
                                                headers that should be removed from
                                                each request handled by this route
                                                or virtual host.
                                              items:
                                                type: string
                                              type: array
                                            responseHeadersToAdd:
                                              description: Specifies a list of HTTP
                                                headers that should be added to each
                                                response handled by this route or
                                                host. For more information, including
                                                details on header value syntax, see
                                                the [Envoy documentation](https://www.envoyproxy.io/docs/envoy/latest/configuration/http_conn_man/headers#config-http-conn-man-headers-custom-request-headers)
                                                .
                                              items:
                                                description: Header name/value pair
                                                  plus option to control append behavior.
                                                properties:
                                                  append:
                                                    description: Should the value
                                                      be appended? If true (default),
                                                      the value is appended to existing
                                                      values.
                                                    nullable: true
                                                    type: boolean
                                                  header:
                                                    description: Header name/value
                                                      pair that this option applies
                                                      to.
                                                    properties:
                                                      key:
                                                        description: Header name.
                                                        type: string
                                                      value:
                                                        description: Header value.
                                                        type: string
                                                    type: object
                                                type: object
                                              type: array
                                            responseHeadersToRemove:
                                              description: Specifies a list of HTTP
                                                headers that should be removed from
                                                each response handled by this route
                                                or virtual host.
                                              items:
                                                type: string
                                              type: array
                                          type: object
                                        stagedTransformations:
                                          description: Early transformations stage.
                                            These transformations run before most
                                            other options are processed. If the `regular`
                                            field is set in here, the `transformations`
                                            field is ignored.
                                          properties:
                                            early:
                                              description: Early transformations happen
                                                before most other options (Like Auth
                                                and Rate Limit).
                                              properties:
                                                requestTransforms:
                                                  description: Transformations to
                                                    apply on the request. The first
                                                    request that matches will apply.
                                                  items:
                                                    properties:
                                                      clearRouteCache:
                                                        description: Should we clear
                                                          the route cache if a transformation
                                                          was matched.
                                                        type: boolean
                                                      matcher:
                                                        description: Matches on the
                                                          request properties.
                                                        properties:
                                                          caseSensitive:
                                                            description: Indicates
                                                              that prefix/path matching
                                                              should be case sensitive.
                                                              The default is true.
                                                            nullable: true
                                                            type: boolean
                                                          exact:
                                                            description: If specified,
                                                              the route is an exact
                                                              path rule meaning that
                                                              the path must exactly
                                                              match the *:path* header
                                                              once the query string
                                                              is removed.
                                                            type: string
                                                          headers:
                                                            description: Specifies
                                                              a set of headers that
                                                              the route should match
                                                              on. The router will
                                                              check the request’s
                                                              headers against all
                                                              the specified headers
                                                              in the route config.
                                                              A match will happen
                                                              if all the headers in
                                                              the route are present
                                                              in the request with
                                                              the same values (or
                                                              based on presence if
                                                              the value field is not
                                                              in the config).
                                                            items:
                                                              description: Internally,
                                                                Gloo always uses the
                                                                HTTP/2 *:authority*
                                                                header to represent
                                                                the HTTP/1 *Host*
                                                                header. Thus, if attempting
                                                                to match on *Host*,
                                                                match on *:authority*
                                                                instead.
                                                              properties:
                                                                invertMatch:
                                                                  description: If
                                                                    set to true, the
                                                                    result of the
                                                                    match will be
                                                                    inverted. Defaults
                                                                    to false.
                                                                  type: boolean
                                                                name:
                                                                  description: Specifies
                                                                    the name of the
                                                                    header in the
                                                                    request.
                                                                  type: string
                                                                regex:
                                                                  description: Specifies
                                                                    whether the header
                                                                    value should be
                                                                    treated as regex
                                                                    or not.
                                                                  type: boolean
                                                                value:
                                                                  description: Specifies
                                                                    the value of the
                                                                    header. If the
                                                                    value is absent
                                                                    a request that
                                                                    has the name header
                                                                    will match, regardless
                                                                    of the header’s
                                                                    value.
                                                                  type: string
                                                              type: object
                                                            type: array
                                                          methods:
                                                            description: HTTP Method/Verb(s)
                                                              to match on. If none
                                                              specified, the matcher
                                                              will ignore the HTTP
                                                              Method
                                                            items:
                                                              type: string
                                                            type: array
                                                          prefix:
                                                            description: If specified,
                                                              the route is a prefix
                                                              rule meaning that the
                                                              prefix must match the
                                                              beginning of the *:path*
                                                              header.
                                                            type: string
                                                          queryParameters:
                                                            description: Specifies
                                                              a set of URL query parameters
                                                              on which the route should
                                                              match. The router will
                                                              check the query string
                                                              from the *path* header
                                                              against all the specified
                                                              query parameters. If
                                                              the number of specified
                                                              query parameters is
                                                              nonzero, they all must
                                                              match the *path* header's
                                                              query string for a match
                                                              to occur.
                                                            items:
                                                              description: Query parameter
                                                                matching treats the
                                                                query string of a
                                                                request's :path header
                                                                as an ampersand-separated
                                                                list of keys and/or
                                                                key=value elements.
                                                              properties:
                                                                name:
                                                                  description: Specifies
                                                                    the name of a
                                                                    key that must
                                                                    be present in
                                                                    the requested
                                                                    *path*'s query
                                                                    string.
                                                                  type: string
                                                                regex:
                                                                  description: Specifies
                                                                    whether the query
                                                                    parameter value
                                                                    is a regular expression.
                                                                    Defaults to false.
                                                                    The entire query
                                                                    parameter value
                                                                    (i.e., the part
                                                                    to the right of
                                                                    the equals sign
                                                                    in "key=value")
                                                                    must match the
                                                                    regex. E.g., the
                                                                    regex "\d+$" will
                                                                    match "123" but
                                                                    not "a123" or
                                                                    "123a".
                                                                  type: boolean
                                                                value:
                                                                  description: Specifies
                                                                    the value of the
                                                                    key. If the value
                                                                    is absent, a request
                                                                    that contains
                                                                    the key in its
                                                                    query string will
                                                                    match, whether
                                                                    the key appears
                                                                    with a value (e.g.,
                                                                    "?debug=true")
                                                                    or not (e.g.,
                                                                    "?debug")
                                                                  type: string
                                                              type: object
                                                            type: array
                                                          regex:
                                                            description: If specified,
                                                              the route is a regular
                                                              expression rule meaning
                                                              that the regex must
                                                              match the *:path* header
                                                              once the query string
                                                              is removed. The entire
                                                              path (without the query
                                                              string) must match the
                                                              regex. The rule will
                                                              not match if only a
                                                              sub-sequence of the
                                                              *:path* header matches
                                                              the regex. The regex
                                                              grammar is defined `here
                                                              <http://en.cppreference.com/w/cpp/regex/ecmascript>`_.
                                                            type: string
                                                        type: object
                                                      requestTransformation:
                                                        description: Transformation
                                                          to apply on the request.
                                                        properties:
                                                          headerBodyTransform:
                                                            description: 'This type
                                                              of transformation will
                                                              make all the headers
                                                              available in the response
                                                              body. The resulting
                                                              JSON body will consist
                                                              of two attributes: ''headers'',
                                                              containing the headers,
                                                              and ''body'', containing
                                                              the original body.'
                                                            type: object
                                                          transformationTemplate:
                                                            description: Apply transformation
                                                              templates.
                                                            properties:
                                                              advancedTemplates:
                                                                description: If set
                                                                  to true, use JSON
                                                                  pointer notation
                                                                  (e.g. "time/start")
                                                                  instead of dot notation
                                                                  (e.g. "time.start")
                                                                  to access JSON elements.
                                                                  Defaults to false.
                                                                type: boolean
                                                              body:
                                                                description: Apply
                                                                  a template to the
                                                                  body
                                                                properties:
                                                                  text:
                                                                    type: string
                                                                type: object
                                                              dynamicMetadataValues:
                                                                description: Use this
                                                                  field to set Dynamic
                                                                  Metadata.
                                                                items:
                                                                  description: Defines
                                                                    an [Envoy Dynamic
                                                                    Metadata](https://www.envoyproxy.io/docs/envoy/latest/configuration/advanced/well_known_dynamic_metadata)
                                                                    entry.
                                                                  properties:
                                                                    key:
                                                                      description: The
                                                                        metadata key.
                                                                      type: string
                                                                    metadataNamespace:
                                                                      description: The
                                                                        metadata namespace.
                                                                        Defaults to
                                                                        the filter
                                                                        namespace.
                                                                      type: string
                                                                    value:
                                                                      description: A
                                                                        template that
                                                                        determines
                                                                        the metadata
                                                                        value.
                                                                      properties:
                                                                        text:
                                                                          type: string
                                                                      type: object
                                                                  type: object
                                                                type: array
                                                              extractors:
                                                                additionalProperties:
                                                                  properties:
                                                                    body:
                                                                      description: Extract
                                                                        information
                                                                        from the request/response
                                                                        body
                                                                      maxProperties: 0
                                                                      type: object
                                                                    header:
                                                                      description: Extract
                                                                        information
                                                                        from headers
                                                                      type: string
                                                                    regex:
                                                                      description: Only
                                                                        strings matching
                                                                        this regular
                                                                        expression
                                                                        will be part
                                                                        of the extraction.
                                                                        The most simple
                                                                        value for
                                                                        this field
                                                                        is '.*', which
                                                                        matches the
                                                                        whole source.
                                                                        The field
                                                                        is required.
                                                                        If extraction
                                                                        fails the
                                                                        result is
                                                                        an empty value.
                                                                      type: string
                                                                    subgroup:
                                                                      description: If
                                                                        your regex
                                                                        contains capturing
                                                                        groups, use
                                                                        this field
                                                                        to determine
                                                                        which group
                                                                        should be
                                                                        selected.
                                                                      format: int32
                                                                      type: integer
                                                                  type: object
                                                                description: Use this
                                                                  attribute to extract
                                                                  information from
                                                                  the request. It
                                                                  consists of a map
                                                                  of strings to extractors.
                                                                  The extractor will
                                                                  defines which information
                                                                  will be extracted,
                                                                  while the string
                                                                  key will provide
                                                                  the extractor with
                                                                  a name. You can
                                                                  reference extractors
                                                                  by their name in
                                                                  templates, e.g.
                                                                  "{{ my-extractor
                                                                  }}" will render
                                                                  to the value of
                                                                  the "my-extractor"
                                                                  extractor.
                                                                type: object
                                                              headers:
                                                                additionalProperties:
                                                                  properties:
                                                                    text:
                                                                      type: string
                                                                  type: object
                                                                description: 'Use
                                                                  this attribute to
                                                                  transform request/response
                                                                  headers. It consists
                                                                  of a map of strings
                                                                  to templates. The
                                                                  string key determines
                                                                  the name of the
                                                                  resulting header,
                                                                  the rendered template
                                                                  will determine the
                                                                  value. Any existing
                                                                  headers with the
                                                                  same header name
                                                                  will be replaced
                                                                  by the transformed
                                                                  header. If a header
                                                                  name is included
                                                                  in `headers` and
                                                                  `headers_to_append`,
                                                                  it will first be
                                                                  replaced the template
                                                                  in `headers`, then
                                                                  additional header
                                                                  values will be appended
                                                                  by the templates
                                                                  defined in `headers_to_append`.
                                                                  For example, the
                                                                  following header
                                                                  transformation configuration:'
                                                                type: object
                                                              headersToAppend:
                                                                description: Use this
                                                                  attribute to transform
                                                                  request/response
                                                                  headers. It consists
                                                                  of an array of string/template
                                                                  objects. Use this
                                                                  attribute to define
                                                                  multiple templates
                                                                  for a single header.
                                                                  Header template(s)
                                                                  defined here will
                                                                  be appended to any
                                                                  existing headers
                                                                  with the same header
                                                                  name, not replace
                                                                  existing ones. See
                                                                  `headers` documentation
                                                                  to see an example
                                                                  of usage.
                                                                items:
                                                                  description: Defines
                                                                    a header-template
                                                                    pair to be used
                                                                    in `headers_to_append`
                                                                  properties:
                                                                    key:
                                                                      description: Header
                                                                        name
                                                                      type: string
                                                                    value:
                                                                      description: Apply
                                                                        a template
                                                                        to the header
                                                                        value
                                                                      properties:
                                                                        text:
                                                                          type: string
                                                                      type: object
                                                                  type: object
                                                                type: array
                                                              ignoreErrorOnParse:
                                                                description: If set
                                                                  to true, Envoy will
                                                                  not throw an exception
                                                                  in case the body
                                                                  parsing fails.
                                                                type: boolean
                                                              mergeExtractorsToBody:
                                                                description: Merge
                                                                  all defined extractors
                                                                  to the request/response
                                                                  body. If you want
                                                                  to nest elements
                                                                  inside the body,
                                                                  use dot separator
                                                                  in the extractor
                                                                  name.
                                                                type: object
                                                              parseBodyBehavior:
                                                                enum:
                                                                - ParseAsJson
                                                                - DontParse
                                                                type: string
                                                              passthrough:
                                                                description: This
                                                                  will cause the transformation
                                                                  filter not to buffer
                                                                  the body. Use this
                                                                  setting if the response
                                                                  body is large and
                                                                  you don't need to
                                                                  transform nor extract
                                                                  information from
                                                                  it.
                                                                type: object
                                                            type: object
                                                          xsltTransformation:
                                                            description: '(Enterprise
                                                              Only): Xslt Transformation'
                                                            properties:
                                                              nonXmlTransform:
                                                                description: This
                                                                  should be set to
                                                                  true if the content
                                                                  being transformed
                                                                  is not XML. For
                                                                  example, if the
                                                                  content being transformed
                                                                  is from JSON to
                                                                  XML, this should
                                                                  be set to true.
                                                                  XSLT transformations
                                                                  can only take valid
                                                                  XML as input to
                                                                  be transformed.
                                                                  If the body is not
                                                                  a valid XML (e.g.
                                                                  using JSON as input
                                                                  in a JSON-to-XML
                                                                  transformation),
                                                                  setting `non_xml_transform`
                                                                  to true will allow
                                                                  the XSLT to accept
                                                                  the non-XML input
                                                                  without throwing
                                                                  an error by passing
                                                                  the input as XML
                                                                  CDATA. defaults
                                                                  to false.
                                                                type: boolean
                                                              setContentType:
                                                                description: Changes
                                                                  the content-type
                                                                  header of the HTTP
                                                                  request/response
                                                                  to what is set here.
                                                                  This is useful in
                                                                  situations where
                                                                  an XSLT transformation
                                                                  is used to transform
                                                                  XML to JSON and
                                                                  the content-type
                                                                  should be changed
                                                                  from `application/xml`
                                                                  to `application/json`.
                                                                  If left empty, the
                                                                  content-type header
                                                                  remains unmodified
                                                                  by default.
                                                                type: string
                                                              xslt:
                                                                description: XSLT
                                                                  transformation template
                                                                  which you want to
                                                                  transform requests/responses
                                                                  with. Invalid XSLT
                                                                  transformation templates
                                                                  will result will
                                                                  result in a NACK
                                                                  during envoy configuration-time
                                                                  and the configuration
                                                                  will not be loaded.
                                                                type: string
                                                            type: object
                                                        type: object
                                                      responseTransformation:
                                                        description: Transformation
                                                          to apply on the response.
                                                        properties:
                                                          headerBodyTransform:
                                                            description: 'This type
                                                              of transformation will
                                                              make all the headers
                                                              available in the response
                                                              body. The resulting
                                                              JSON body will consist
                                                              of two attributes: ''headers'',
                                                              containing the headers,
                                                              and ''body'', containing
                                                              the original body.'
                                                            type: object
                                                          transformationTemplate:
                                                            description: Apply transformation
                                                              templates.
                                                            properties:
                                                              advancedTemplates:
                                                                description: If set
                                                                  to true, use JSON
                                                                  pointer notation
                                                                  (e.g. "time/start")
                                                                  instead of dot notation
                                                                  (e.g. "time.start")
                                                                  to access JSON elements.
                                                                  Defaults to false.
                                                                type: boolean
                                                              body:
                                                                description: Apply
                                                                  a template to the
                                                                  body
                                                                properties:
                                                                  text:
                                                                    type: string
                                                                type: object
                                                              dynamicMetadataValues:
                                                                description: Use this
                                                                  field to set Dynamic
                                                                  Metadata.
                                                                items:
                                                                  description: Defines
                                                                    an [Envoy Dynamic
                                                                    Metadata](https://www.envoyproxy.io/docs/envoy/latest/configuration/advanced/well_known_dynamic_metadata)
                                                                    entry.
                                                                  properties:
                                                                    key:
                                                                      description: The
                                                                        metadata key.
                                                                      type: string
                                                                    metadataNamespace:
                                                                      description: The
                                                                        metadata namespace.
                                                                        Defaults to
                                                                        the filter
                                                                        namespace.
                                                                      type: string
                                                                    value:
                                                                      description: A
                                                                        template that
                                                                        determines
                                                                        the metadata
                                                                        value.
                                                                      properties:
                                                                        text:
                                                                          type: string
                                                                      type: object
                                                                  type: object
                                                                type: array
                                                              extractors:
                                                                additionalProperties:
                                                                  properties:
                                                                    body:
                                                                      description: Extract
                                                                        information
                                                                        from the request/response
                                                                        body
                                                                      maxProperties: 0
                                                                      type: object
                                                                    header:
                                                                      description: Extract
                                                                        information
                                                                        from headers
                                                                      type: string
                                                                    regex:
                                                                      description: Only
                                                                        strings matching
                                                                        this regular
                                                                        expression
                                                                        will be part
                                                                        of the extraction.
                                                                        The most simple
                                                                        value for
                                                                        this field
                                                                        is '.*', which
                                                                        matches the
                                                                        whole source.
                                                                        The field
                                                                        is required.
                                                                        If extraction
                                                                        fails the
                                                                        result is
                                                                        an empty value.
                                                                      type: string
                                                                    subgroup:
                                                                      description: If
                                                                        your regex
                                                                        contains capturing
                                                                        groups, use
                                                                        this field
                                                                        to determine
                                                                        which group
                                                                        should be
                                                                        selected.
                                                                      format: int32
                                                                      type: integer
                                                                  type: object
                                                                description: Use this
                                                                  attribute to extract
                                                                  information from
                                                                  the request. It
                                                                  consists of a map
                                                                  of strings to extractors.
                                                                  The extractor will
                                                                  defines which information
                                                                  will be extracted,
                                                                  while the string
                                                                  key will provide
                                                                  the extractor with
                                                                  a name. You can
                                                                  reference extractors
                                                                  by their name in
                                                                  templates, e.g.
                                                                  "{{ my-extractor
                                                                  }}" will render
                                                                  to the value of
                                                                  the "my-extractor"
                                                                  extractor.
                                                                type: object
                                                              headers:
                                                                additionalProperties:
                                                                  properties:
                                                                    text:
                                                                      type: string
                                                                  type: object
                                                                description: 'Use
                                                                  this attribute to
                                                                  transform request/response
                                                                  headers. It consists
                                                                  of a map of strings
                                                                  to templates. The
                                                                  string key determines
                                                                  the name of the
                                                                  resulting header,
                                                                  the rendered template
                                                                  will determine the
                                                                  value. Any existing
                                                                  headers with the
                                                                  same header name
                                                                  will be replaced
                                                                  by the transformed
                                                                  header. If a header
                                                                  name is included
                                                                  in `headers` and
                                                                  `headers_to_append`,
                                                                  it will first be
                                                                  replaced the template
                                                                  in `headers`, then
                                                                  additional header
                                                                  values will be appended
                                                                  by the templates
                                                                  defined in `headers_to_append`.
                                                                  For example, the
                                                                  following header
                                                                  transformation configuration:'
                                                                type: object
                                                              headersToAppend:
                                                                description: Use this
                                                                  attribute to transform
                                                                  request/response
                                                                  headers. It consists
                                                                  of an array of string/template
                                                                  objects. Use this
                                                                  attribute to define
                                                                  multiple templates
                                                                  for a single header.
                                                                  Header template(s)
                                                                  defined here will
                                                                  be appended to any
                                                                  existing headers
                                                                  with the same header
                                                                  name, not replace
                                                                  existing ones. See
                                                                  `headers` documentation
                                                                  to see an example
                                                                  of usage.
                                                                items:
                                                                  description: Defines
                                                                    a header-template
                                                                    pair to be used
                                                                    in `headers_to_append`
                                                                  properties:
                                                                    key:
                                                                      description: Header
                                                                        name
                                                                      type: string
                                                                    value:
                                                                      description: Apply
                                                                        a template
                                                                        to the header
                                                                        value
                                                                      properties:
                                                                        text:
                                                                          type: string
                                                                      type: object
                                                                  type: object
                                                                type: array
                                                              ignoreErrorOnParse:
                                                                description: If set
                                                                  to true, Envoy will
                                                                  not throw an exception
                                                                  in case the body
                                                                  parsing fails.
                                                                type: boolean
                                                              mergeExtractorsToBody:
                                                                description: Merge
                                                                  all defined extractors
                                                                  to the request/response
                                                                  body. If you want
                                                                  to nest elements
                                                                  inside the body,
                                                                  use dot separator
                                                                  in the extractor
                                                                  name.
                                                                type: object
                                                              parseBodyBehavior:
                                                                enum:
                                                                - ParseAsJson
                                                                - DontParse
                                                                type: string
                                                              passthrough:
                                                                description: This
                                                                  will cause the transformation
                                                                  filter not to buffer
                                                                  the body. Use this
                                                                  setting if the response
                                                                  body is large and
                                                                  you don't need to
                                                                  transform nor extract
                                                                  information from
                                                                  it.
                                                                type: object
                                                            type: object
                                                          xsltTransformation:
                                                            description: '(Enterprise
                                                              Only): Xslt Transformation'
                                                            properties:
                                                              nonXmlTransform:
                                                                description: This
                                                                  should be set to
                                                                  true if the content
                                                                  being transformed
                                                                  is not XML. For
                                                                  example, if the
                                                                  content being transformed
                                                                  is from JSON to
                                                                  XML, this should
                                                                  be set to true.
                                                                  XSLT transformations
                                                                  can only take valid
                                                                  XML as input to
                                                                  be transformed.
                                                                  If the body is not
                                                                  a valid XML (e.g.
                                                                  using JSON as input
                                                                  in a JSON-to-XML
                                                                  transformation),
                                                                  setting `non_xml_transform`
                                                                  to true will allow
                                                                  the XSLT to accept
                                                                  the non-XML input
                                                                  without throwing
                                                                  an error by passing
                                                                  the input as XML
                                                                  CDATA. defaults
                                                                  to false.
                                                                type: boolean
                                                              setContentType:
                                                                description: Changes
                                                                  the content-type
                                                                  header of the HTTP
                                                                  request/response
                                                                  to what is set here.
                                                                  This is useful in
                                                                  situations where
                                                                  an XSLT transformation
                                                                  is used to transform
                                                                  XML to JSON and
                                                                  the content-type
                                                                  should be changed
                                                                  from `application/xml`
                                                                  to `application/json`.
                                                                  If left empty, the
                                                                  content-type header
                                                                  remains unmodified
                                                                  by default.
                                                                type: string
                                                              xslt:
                                                                description: XSLT
                                                                  transformation template
                                                                  which you want to
                                                                  transform requests/responses
                                                                  with. Invalid XSLT
                                                                  transformation templates
                                                                  will result will
                                                                  result in a NACK
                                                                  during envoy configuration-time
                                                                  and the configuration
                                                                  will not be loaded.
                                                                type: string
                                                            type: object
                                                        type: object
                                                    type: object
                                                  type: array
                                                responseTransforms:
                                                  description: Transformations to
                                                    apply on the response. This field
                                                    is only consulted if there is
                                                    no response transformation in
                                                    the matched `request_transforms`.
                                                    i.e. Only one response transformation
                                                    will be executed. The first response
                                                    transformation that matches will
                                                    apply.
                                                  items:
                                                    properties:
                                                      matchers:
                                                        description: Response headers
                                                          to match on.
                                                        items:
                                                          description: Internally,
                                                            Gloo always uses the HTTP/2
                                                            *:authority* header to
                                                            represent the HTTP/1 *Host*
                                                            header. Thus, if attempting
                                                            to match on *Host*, match
                                                            on *:authority* instead.
                                                          properties:
                                                            invertMatch:
                                                              description: If set
                                                                to true, the result
                                                                of the match will
                                                                be inverted. Defaults
                                                                to false.
                                                              type: boolean
                                                            name:
                                                              description: Specifies
                                                                the name of the header
                                                                in the request.
                                                              type: string
                                                            regex:
                                                              description: Specifies
                                                                whether the header
                                                                value should be treated
                                                                as regex or not.
                                                              type: boolean
                                                            value:
                                                              description: Specifies
                                                                the value of the header.
                                                                If the value is absent
                                                                a request that has
                                                                the name header will
                                                                match, regardless
                                                                of the header’s value.
                                                              type: string
                                                          type: object
                                                        type: array
                                                      responseCodeDetails:
                                                        description: Response code
                                                          detail to match on. To see
                                                          the response code details
                                                          for your usecase, you can
                                                          use the envoy access log
                                                          %RESPONSE_CODE_DETAILS%
                                                          formatter to log it.
                                                        type: string
                                                      responseTransformation:
                                                        description: Transformation
                                                          to apply on the response.
                                                        properties:
                                                          headerBodyTransform:
                                                            description: 'This type
                                                              of transformation will
                                                              make all the headers
                                                              available in the response
                                                              body. The resulting
                                                              JSON body will consist
                                                              of two attributes: ''headers'',
                                                              containing the headers,
                                                              and ''body'', containing
                                                              the original body.'
                                                            type: object
                                                          transformationTemplate:
                                                            description: Apply transformation
                                                              templates.
                                                            properties:
                                                              advancedTemplates:
                                                                description: If set
                                                                  to true, use JSON
                                                                  pointer notation
                                                                  (e.g. "time/start")
                                                                  instead of dot notation
                                                                  (e.g. "time.start")
                                                                  to access JSON elements.
                                                                  Defaults to false.
                                                                type: boolean
                                                              body:
                                                                description: Apply
                                                                  a template to the
                                                                  body
                                                                properties:
                                                                  text:
                                                                    type: string
                                                                type: object
                                                              dynamicMetadataValues:
                                                                description: Use this
                                                                  field to set Dynamic
                                                                  Metadata.
                                                                items:
                                                                  description: Defines
                                                                    an [Envoy Dynamic
                                                                    Metadata](https://www.envoyproxy.io/docs/envoy/latest/configuration/advanced/well_known_dynamic_metadata)
                                                                    entry.
                                                                  properties:
                                                                    key:
                                                                      description: The
                                                                        metadata key.
                                                                      type: string
                                                                    metadataNamespace:
                                                                      description: The
                                                                        metadata namespace.
                                                                        Defaults to
                                                                        the filter
                                                                        namespace.
                                                                      type: string
                                                                    value:
                                                                      description: A
                                                                        template that
                                                                        determines
                                                                        the metadata
                                                                        value.
                                                                      properties:
                                                                        text:
                                                                          type: string
                                                                      type: object
                                                                  type: object
                                                                type: array
                                                              extractors:
                                                                additionalProperties:
                                                                  properties:
                                                                    body:
                                                                      description: Extract
                                                                        information
                                                                        from the request/response
                                                                        body
                                                                      maxProperties: 0
                                                                      type: object
                                                                    header:
                                                                      description: Extract
                                                                        information
                                                                        from headers
                                                                      type: string
                                                                    regex:
                                                                      description: Only
                                                                        strings matching
                                                                        this regular
                                                                        expression
                                                                        will be part
                                                                        of the extraction.
                                                                        The most simple
                                                                        value for
                                                                        this field
                                                                        is '.*', which
                                                                        matches the
                                                                        whole source.
                                                                        The field
                                                                        is required.
                                                                        If extraction
                                                                        fails the
                                                                        result is
                                                                        an empty value.
                                                                      type: string
                                                                    subgroup:
                                                                      description: If
                                                                        your regex
                                                                        contains capturing
                                                                        groups, use
                                                                        this field
                                                                        to determine
                                                                        which group
                                                                        should be
                                                                        selected.
                                                                      format: int32
                                                                      type: integer
                                                                  type: object
                                                                description: Use this
                                                                  attribute to extract
                                                                  information from
                                                                  the request. It
                                                                  consists of a map
                                                                  of strings to extractors.
                                                                  The extractor will
                                                                  defines which information
                                                                  will be extracted,
                                                                  while the string
                                                                  key will provide
                                                                  the extractor with
                                                                  a name. You can
                                                                  reference extractors
                                                                  by their name in
                                                                  templates, e.g.
                                                                  "{{ my-extractor
                                                                  }}" will render
                                                                  to the value of
                                                                  the "my-extractor"
                                                                  extractor.
                                                                type: object
                                                              headers:
                                                                additionalProperties:
                                                                  properties:
                                                                    text:
                                                                      type: string
                                                                  type: object
                                                                description: 'Use
                                                                  this attribute to
                                                                  transform request/response
                                                                  headers. It consists
                                                                  of a map of strings
                                                                  to templates. The
                                                                  string key determines
                                                                  the name of the
                                                                  resulting header,
                                                                  the rendered template
                                                                  will determine the
                                                                  value. Any existing
                                                                  headers with the
                                                                  same header name
                                                                  will be replaced
                                                                  by the transformed
                                                                  header. If a header
                                                                  name is included
                                                                  in `headers` and
                                                                  `headers_to_append`,
                                                                  it will first be
                                                                  replaced the template
                                                                  in `headers`, then
                                                                  additional header
                                                                  values will be appended
                                                                  by the templates
                                                                  defined in `headers_to_append`.
                                                                  For example, the
                                                                  following header
                                                                  transformation configuration:'
                                                                type: object
                                                              headersToAppend:
                                                                description: Use this
                                                                  attribute to transform
                                                                  request/response
                                                                  headers. It consists
                                                                  of an array of string/template
                                                                  objects. Use this
                                                                  attribute to define
                                                                  multiple templates
                                                                  for a single header.
                                                                  Header template(s)
                                                                  defined here will
                                                                  be appended to any
                                                                  existing headers
                                                                  with the same header
                                                                  name, not replace
                                                                  existing ones. See
                                                                  `headers` documentation
                                                                  to see an example
                                                                  of usage.
                                                                items:
                                                                  description: Defines
                                                                    a header-template
                                                                    pair to be used
                                                                    in `headers_to_append`
                                                                  properties:
                                                                    key:
                                                                      description: Header
                                                                        name
                                                                      type: string
                                                                    value:
                                                                      description: Apply
                                                                        a template
                                                                        to the header
                                                                        value
                                                                      properties:
                                                                        text:
                                                                          type: string
                                                                      type: object
                                                                  type: object
                                                                type: array
                                                              ignoreErrorOnParse:
                                                                description: If set
                                                                  to true, Envoy will
                                                                  not throw an exception
                                                                  in case the body
                                                                  parsing fails.
                                                                type: boolean
                                                              mergeExtractorsToBody:
                                                                description: Merge
                                                                  all defined extractors
                                                                  to the request/response
                                                                  body. If you want
                                                                  to nest elements
                                                                  inside the body,
                                                                  use dot separator
                                                                  in the extractor
                                                                  name.
                                                                type: object
                                                              parseBodyBehavior:
                                                                enum:
                                                                - ParseAsJson
                                                                - DontParse
                                                                type: string
                                                              passthrough:
                                                                description: This
                                                                  will cause the transformation
                                                                  filter not to buffer
                                                                  the body. Use this
                                                                  setting if the response
                                                                  body is large and
                                                                  you don't need to
                                                                  transform nor extract
                                                                  information from
                                                                  it.
                                                                type: object
                                                            type: object
                                                          xsltTransformation:
                                                            description: '(Enterprise
                                                              Only): Xslt Transformation'
                                                            properties:
                                                              nonXmlTransform:
                                                                description: This
                                                                  should be set to
                                                                  true if the content
                                                                  being transformed
                                                                  is not XML. For
                                                                  example, if the
                                                                  content being transformed
                                                                  is from JSON to
                                                                  XML, this should
                                                                  be set to true.
                                                                  XSLT transformations
                                                                  can only take valid
                                                                  XML as input to
                                                                  be transformed.
                                                                  If the body is not
                                                                  a valid XML (e.g.
                                                                  using JSON as input
                                                                  in a JSON-to-XML
                                                                  transformation),
                                                                  setting `non_xml_transform`
                                                                  to true will allow
                                                                  the XSLT to accept
                                                                  the non-XML input
                                                                  without throwing
                                                                  an error by passing
                                                                  the input as XML
                                                                  CDATA. defaults
                                                                  to false.
                                                                type: boolean
                                                              setContentType:
                                                                description: Changes
                                                                  the content-type
                                                                  header of the HTTP
                                                                  request/response
                                                                  to what is set here.
                                                                  This is useful in
                                                                  situations where
                                                                  an XSLT transformation
                                                                  is used to transform
                                                                  XML to JSON and
                                                                  the content-type
                                                                  should be changed
                                                                  from `application/xml`
                                                                  to `application/json`.
                                                                  If left empty, the
                                                                  content-type header
                                                                  remains unmodified
                                                                  by default.
                                                                type: string
                                                              xslt:
                                                                description: XSLT
                                                                  transformation template
                                                                  which you want to
                                                                  transform requests/responses
                                                                  with. Invalid XSLT
                                                                  transformation templates
                                                                  will result will
                                                                  result in a NACK
                                                                  during envoy configuration-time
                                                                  and the configuration
                                                                  will not be loaded.
                                                                type: string
                                                            type: object
                                                        type: object
                                                    type: object
                                                  type: array
                                              type: object
                                            inheritTransformation:
                                              description: Inherit transformation
                                                config from parent. This has no affect
                                                on VirtualHost level transformations.
                                                If a RouteTable or Route wants to
                                                inherit transformations from it's
                                                parent RouteTable or VirtualHost,
                                                this should be set to true, else transformations
                                                from parents will not be inherited.
                                                Transformations are ordered so the
                                                child's transformation gets priority,
                                                so in the case where a child and parent's
                                                transformation matchers are the same,
                                                only the child's transformation will
                                                run because only one transformation
                                                will run per stage. Defaults to false.
                                              type: boolean
                                            regular:
                                              description: Regular transformations
                                                happen after Auth and Rate limit decisions
                                                has been made.
                                              properties:
                                                requestTransforms:
                                                  description: Transformations to
                                                    apply on the request. The first
                                                    request that matches will apply.
                                                  items:
                                                    properties:
                                                      clearRouteCache:
                                                        description: Should we clear
                                                          the route cache if a transformation
                                                          was matched.
                                                        type: boolean
                                                      matcher:
                                                        description: Matches on the
                                                          request properties.
                                                        properties:
                                                          caseSensitive:
                                                            description: Indicates
                                                              that prefix/path matching
                                                              should be case sensitive.
                                                              The default is true.
                                                            nullable: true
                                                            type: boolean
                                                          exact:
                                                            description: If specified,
                                                              the route is an exact
                                                              path rule meaning that
                                                              the path must exactly
                                                              match the *:path* header
                                                              once the query string
                                                              is removed.
                                                            type: string
                                                          headers:
                                                            description: Specifies
                                                              a set of headers that
                                                              the route should match
                                                              on. The router will
                                                              check the request’s
                                                              headers against all
                                                              the specified headers
                                                              in the route config.
                                                              A match will happen
                                                              if all the headers in
                                                              the route are present
                                                              in the request with
                                                              the same values (or
                                                              based on presence if
                                                              the value field is not
                                                              in the config).
                                                            items:
                                                              description: Internally,
                                                                Gloo always uses the
                                                                HTTP/2 *:authority*
                                                                header to represent
                                                                the HTTP/1 *Host*
                                                                header. Thus, if attempting
                                                                to match on *Host*,
                                                                match on *:authority*
                                                                instead.
                                                              properties:
                                                                invertMatch:
                                                                  description: If
                                                                    set to true, the
                                                                    result of the
                                                                    match will be
                                                                    inverted. Defaults
                                                                    to false.
                                                                  type: boolean
                                                                name:
                                                                  description: Specifies
                                                                    the name of the
                                                                    header in the
                                                                    request.
                                                                  type: string
                                                                regex:
                                                                  description: Specifies
                                                                    whether the header
                                                                    value should be
                                                                    treated as regex
                                                                    or not.
                                                                  type: boolean
                                                                value:
                                                                  description: Specifies
                                                                    the value of the
                                                                    header. If the
                                                                    value is absent
                                                                    a request that
                                                                    has the name header
                                                                    will match, regardless
                                                                    of the header’s
                                                                    value.
                                                                  type: string
                                                              type: object
                                                            type: array
                                                          methods:
                                                            description: HTTP Method/Verb(s)
                                                              to match on. If none
                                                              specified, the matcher
                                                              will ignore the HTTP
                                                              Method
                                                            items:
                                                              type: string
                                                            type: array
                                                          prefix:
                                                            description: If specified,
                                                              the route is a prefix
                                                              rule meaning that the
                                                              prefix must match the
                                                              beginning of the *:path*
                                                              header.
                                                            type: string
                                                          queryParameters:
                                                            description: Specifies
                                                              a set of URL query parameters
                                                              on which the route should
                                                              match. The router will
                                                              check the query string
                                                              from the *path* header
                                                              against all the specified
                                                              query parameters. If
                                                              the number of specified
                                                              query parameters is
                                                              nonzero, they all must
                                                              match the *path* header's
                                                              query string for a match
                                                              to occur.
                                                            items:
                                                              description: Query parameter
                                                                matching treats the
                                                                query string of a
                                                                request's :path header
                                                                as an ampersand-separated
                                                                list of keys and/or
                                                                key=value elements.
                                                              properties:
                                                                name:
                                                                  description: Specifies
                                                                    the name of a
                                                                    key that must
                                                                    be present in
                                                                    the requested
                                                                    *path*'s query
                                                                    string.
                                                                  type: string
                                                                regex:
                                                                  description: Specifies
                                                                    whether the query
                                                                    parameter value
                                                                    is a regular expression.
                                                                    Defaults to false.
                                                                    The entire query
                                                                    parameter value
                                                                    (i.e., the part
                                                                    to the right of
                                                                    the equals sign
                                                                    in "key=value")
                                                                    must match the
                                                                    regex. E.g., the
                                                                    regex "\d+$" will
                                                                    match "123" but
                                                                    not "a123" or
                                                                    "123a".
                                                                  type: boolean
                                                                value:
                                                                  description: Specifies
                                                                    the value of the
                                                                    key. If the value
                                                                    is absent, a request
                                                                    that contains
                                                                    the key in its
                                                                    query string will
                                                                    match, whether
                                                                    the key appears
                                                                    with a value (e.g.,
                                                                    "?debug=true")
                                                                    or not (e.g.,
                                                                    "?debug")
                                                                  type: string
                                                              type: object
                                                            type: array
                                                          regex:
                                                            description: If specified,
                                                              the route is a regular
                                                              expression rule meaning
                                                              that the regex must
                                                              match the *:path* header
                                                              once the query string
                                                              is removed. The entire
                                                              path (without the query
                                                              string) must match the
                                                              regex. The rule will
                                                              not match if only a
                                                              sub-sequence of the
                                                              *:path* header matches
                                                              the regex. The regex
                                                              grammar is defined `here
                                                              <http://en.cppreference.com/w/cpp/regex/ecmascript>`_.
                                                            type: string
                                                        type: object
                                                      requestTransformation:
                                                        description: Transformation
                                                          to apply on the request.
                                                        properties:
                                                          headerBodyTransform:
                                                            description: 'This type
                                                              of transformation will
                                                              make all the headers
                                                              available in the response
                                                              body. The resulting
                                                              JSON body will consist
                                                              of two attributes: ''headers'',
                                                              containing the headers,
                                                              and ''body'', containing
                                                              the original body.'
                                                            type: object
                                                          transformationTemplate:
                                                            description: Apply transformation
                                                              templates.
                                                            properties:
                                                              advancedTemplates:
                                                                description: If set
                                                                  to true, use JSON
                                                                  pointer notation
                                                                  (e.g. "time/start")
                                                                  instead of dot notation
                                                                  (e.g. "time.start")
                                                                  to access JSON elements.
                                                                  Defaults to false.
                                                                type: boolean
                                                              body:
                                                                description: Apply
                                                                  a template to the
                                                                  body
                                                                properties:
                                                                  text:
                                                                    type: string
                                                                type: object
                                                              dynamicMetadataValues:
                                                                description: Use this
                                                                  field to set Dynamic
                                                                  Metadata.
                                                                items:
                                                                  description: Defines
                                                                    an [Envoy Dynamic
                                                                    Metadata](https://www.envoyproxy.io/docs/envoy/latest/configuration/advanced/well_known_dynamic_metadata)
                                                                    entry.
                                                                  properties:
                                                                    key:
                                                                      description: The
                                                                        metadata key.
                                                                      type: string
                                                                    metadataNamespace:
                                                                      description: The
                                                                        metadata namespace.
                                                                        Defaults to
                                                                        the filter
                                                                        namespace.
                                                                      type: string
                                                                    value:
                                                                      description: A
                                                                        template that
                                                                        determines
                                                                        the metadata
                                                                        value.
                                                                      properties:
                                                                        text:
                                                                          type: string
                                                                      type: object
                                                                  type: object
                                                                type: array
                                                              extractors:
                                                                additionalProperties:
                                                                  properties:
                                                                    body:
                                                                      description: Extract
                                                                        information
                                                                        from the request/response
                                                                        body
                                                                      maxProperties: 0
                                                                      type: object
                                                                    header:
                                                                      description: Extract
                                                                        information
                                                                        from headers
                                                                      type: string
                                                                    regex:
                                                                      description: Only
                                                                        strings matching
                                                                        this regular
                                                                        expression
                                                                        will be part
                                                                        of the extraction.
                                                                        The most simple
                                                                        value for
                                                                        this field
                                                                        is '.*', which
                                                                        matches the
                                                                        whole source.
                                                                        The field
                                                                        is required.
                                                                        If extraction
                                                                        fails the
                                                                        result is
                                                                        an empty value.
                                                                      type: string
                                                                    subgroup:
                                                                      description: If
                                                                        your regex
                                                                        contains capturing
                                                                        groups, use
                                                                        this field
                                                                        to determine
                                                                        which group
                                                                        should be
                                                                        selected.
                                                                      format: int32
                                                                      type: integer
                                                                  type: object
                                                                description: Use this
                                                                  attribute to extract
                                                                  information from
                                                                  the request. It
                                                                  consists of a map
                                                                  of strings to extractors.
                                                                  The extractor will
                                                                  defines which information
                                                                  will be extracted,
                                                                  while the string
                                                                  key will provide
                                                                  the extractor with
                                                                  a name. You can
                                                                  reference extractors
                                                                  by their name in
                                                                  templates, e.g.
                                                                  "{{ my-extractor
                                                                  }}" will render
                                                                  to the value of
                                                                  the "my-extractor"
                                                                  extractor.
                                                                type: object
                                                              headers:
                                                                additionalProperties:
                                                                  properties:
                                                                    text:
                                                                      type: string
                                                                  type: object
                                                                description: 'Use
                                                                  this attribute to
                                                                  transform request/response
                                                                  headers. It consists
                                                                  of a map of strings
                                                                  to templates. The
                                                                  string key determines
                                                                  the name of the
                                                                  resulting header,
                                                                  the rendered template
                                                                  will determine the
                                                                  value. Any existing
                                                                  headers with the
                                                                  same header name
                                                                  will be replaced
                                                                  by the transformed
                                                                  header. If a header
                                                                  name is included
                                                                  in `headers` and
                                                                  `headers_to_append`,
                                                                  it will first be
                                                                  replaced the template
                                                                  in `headers`, then
                                                                  additional header
                                                                  values will be appended
                                                                  by the templates
                                                                  defined in `headers_to_append`.
                                                                  For example, the
                                                                  following header
                                                                  transformation configuration:'
                                                                type: object
                                                              headersToAppend:
                                                                description: Use this
                                                                  attribute to transform
                                                                  request/response
                                                                  headers. It consists
                                                                  of an array of string/template
                                                                  objects. Use this
                                                                  attribute to define
                                                                  multiple templates
                                                                  for a single header.
                                                                  Header template(s)
                                                                  defined here will
                                                                  be appended to any
                                                                  existing headers
                                                                  with the same header
                                                                  name, not replace
                                                                  existing ones. See
                                                                  `headers` documentation
                                                                  to see an example
                                                                  of usage.
                                                                items:
                                                                  description: Defines
                                                                    a header-template
                                                                    pair to be used
                                                                    in `headers_to_append`
                                                                  properties:
                                                                    key:
                                                                      description: Header
                                                                        name
                                                                      type: string
                                                                    value:
                                                                      description: Apply
                                                                        a template
                                                                        to the header
                                                                        value
                                                                      properties:
                                                                        text:
                                                                          type: string
                                                                      type: object
                                                                  type: object
                                                                type: array
                                                              ignoreErrorOnParse:
                                                                description: If set
                                                                  to true, Envoy will
                                                                  not throw an exception
                                                                  in case the body
                                                                  parsing fails.
                                                                type: boolean
                                                              mergeExtractorsToBody:
                                                                description: Merge
                                                                  all defined extractors
                                                                  to the request/response
                                                                  body. If you want
                                                                  to nest elements
                                                                  inside the body,
                                                                  use dot separator
                                                                  in the extractor
                                                                  name.
                                                                type: object
                                                              parseBodyBehavior:
                                                                enum:
                                                                - ParseAsJson
                                                                - DontParse
                                                                type: string
                                                              passthrough:
                                                                description: This
                                                                  will cause the transformation
                                                                  filter not to buffer
                                                                  the body. Use this
                                                                  setting if the response
                                                                  body is large and
                                                                  you don't need to
                                                                  transform nor extract
                                                                  information from
                                                                  it.
                                                                type: object
                                                            type: object
                                                          xsltTransformation:
                                                            description: '(Enterprise
                                                              Only): Xslt Transformation'
                                                            properties:
                                                              nonXmlTransform:
                                                                description: This
                                                                  should be set to
                                                                  true if the content
                                                                  being transformed
                                                                  is not XML. For
                                                                  example, if the
                                                                  content being transformed
                                                                  is from JSON to
                                                                  XML, this should
                                                                  be set to true.
                                                                  XSLT transformations
                                                                  can only take valid
                                                                  XML as input to
                                                                  be transformed.
                                                                  If the body is not
                                                                  a valid XML (e.g.
                                                                  using JSON as input
                                                                  in a JSON-to-XML
                                                                  transformation),
                                                                  setting `non_xml_transform`
                                                                  to true will allow
                                                                  the XSLT to accept
                                                                  the non-XML input
                                                                  without throwing
                                                                  an error by passing
                                                                  the input as XML
                                                                  CDATA. defaults
                                                                  to false.
                                                                type: boolean
                                                              setContentType:
                                                                description: Changes
                                                                  the content-type
                                                                  header of the HTTP
                                                                  request/response
                                                                  to what is set here.
                                                                  This is useful in
                                                                  situations where
                                                                  an XSLT transformation
                                                                  is used to transform
                                                                  XML to JSON and
                                                                  the content-type
                                                                  should be changed
                                                                  from `application/xml`
                                                                  to `application/json`.
                                                                  If left empty, the
                                                                  content-type header
                                                                  remains unmodified
                                                                  by default.
                                                                type: string
                                                              xslt:
                                                                description: XSLT
                                                                  transformation template
                                                                  which you want to
                                                                  transform requests/responses
                                                                  with. Invalid XSLT
                                                                  transformation templates
                                                                  will result will
                                                                  result in a NACK
                                                                  during envoy configuration-time
                                                                  and the configuration
                                                                  will not be loaded.
                                                                type: string
                                                            type: object
                                                        type: object
                                                      responseTransformation:
                                                        description: Transformation
                                                          to apply on the response.
                                                        properties:
                                                          headerBodyTransform:
                                                            description: 'This type
                                                              of transformation will
                                                              make all the headers
                                                              available in the response
                                                              body. The resulting
                                                              JSON body will consist
                                                              of two attributes: ''headers'',
                                                              containing the headers,
                                                              and ''body'', containing
                                                              the original body.'
                                                            type: object
                                                          transformationTemplate:
                                                            description: Apply transformation
                                                              templates.
                                                            properties:
                                                              advancedTemplates:
                                                                description: If set
                                                                  to true, use JSON
                                                                  pointer notation
                                                                  (e.g. "time/start")
                                                                  instead of dot notation
                                                                  (e.g. "time.start")
                                                                  to access JSON elements.
                                                                  Defaults to false.
                                                                type: boolean
                                                              body:
                                                                description: Apply
                                                                  a template to the
                                                                  body
                                                                properties:
                                                                  text:
                                                                    type: string
                                                                type: object
                                                              dynamicMetadataValues:
                                                                description: Use this
                                                                  field to set Dynamic
                                                                  Metadata.
                                                                items:
                                                                  description: Defines
                                                                    an [Envoy Dynamic
                                                                    Metadata](https://www.envoyproxy.io/docs/envoy/latest/configuration/advanced/well_known_dynamic_metadata)
                                                                    entry.
                                                                  properties:
                                                                    key:
                                                                      description: The
                                                                        metadata key.
                                                                      type: string
                                                                    metadataNamespace:
                                                                      description: The
                                                                        metadata namespace.
                                                                        Defaults to
                                                                        the filter
                                                                        namespace.
                                                                      type: string
                                                                    value:
                                                                      description: A
                                                                        template that
                                                                        determines
                                                                        the metadata
                                                                        value.
                                                                      properties:
                                                                        text:
                                                                          type: string
                                                                      type: object
                                                                  type: object
                                                                type: array
                                                              extractors:
                                                                additionalProperties:
                                                                  properties:
                                                                    body:
                                                                      description: Extract
                                                                        information
                                                                        from the request/response
                                                                        body
                                                                      maxProperties: 0
                                                                      type: object
                                                                    header:
                                                                      description: Extract
                                                                        information
                                                                        from headers
                                                                      type: string
                                                                    regex:
                                                                      description: Only
                                                                        strings matching
                                                                        this regular
                                                                        expression
                                                                        will be part
                                                                        of the extraction.
                                                                        The most simple
                                                                        value for
                                                                        this field
                                                                        is '.*', which
                                                                        matches the
                                                                        whole source.
                                                                        The field
                                                                        is required.
                                                                        If extraction
                                                                        fails the
                                                                        result is
                                                                        an empty value.
                                                                      type: string
                                                                    subgroup:
                                                                      description: If
                                                                        your regex
                                                                        contains capturing
                                                                        groups, use
                                                                        this field
                                                                        to determine
                                                                        which group
                                                                        should be
                                                                        selected.
                                                                      format: int32
                                                                      type: integer
                                                                  type: object
                                                                description: Use this
                                                                  attribute to extract
                                                                  information from
                                                                  the request. It
                                                                  consists of a map
                                                                  of strings to extractors.
                                                                  The extractor will
                                                                  defines which information
                                                                  will be extracted,
                                                                  while the string
                                                                  key will provide
                                                                  the extractor with
                                                                  a name. You can
                                                                  reference extractors
                                                                  by their name in
                                                                  templates, e.g.
                                                                  "{{ my-extractor
                                                                  }}" will render
                                                                  to the value of
                                                                  the "my-extractor"
                                                                  extractor.
                                                                type: object
                                                              headers:
                                                                additionalProperties:
                                                                  properties:
                                                                    text:
                                                                      type: string
                                                                  type: object
                                                                description: 'Use
                                                                  this attribute to
                                                                  transform request/response
                                                                  headers. It consists
                                                                  of a map of strings
                                                                  to templates. The
                                                                  string key determines
                                                                  the name of the
                                                                  resulting header,
                                                                  the rendered template
                                                                  will determine the
                                                                  value. Any existing
                                                                  headers with the
                                                                  same header name
                                                                  will be replaced
                                                                  by the transformed
                                                                  header. If a header
                                                                  name is included
                                                                  in `headers` and
                                                                  `headers_to_append`,
                                                                  it will first be
                                                                  replaced the template
                                                                  in `headers`, then
                                                                  additional header
                                                                  values will be appended
                                                                  by the templates
                                                                  defined in `headers_to_append`.
                                                                  For example, the
                                                                  following header
                                                                  transformation configuration:'
                                                                type: object
                                                              headersToAppend:
                                                                description: Use this
                                                                  attribute to transform
                                                                  request/response
                                                                  headers. It consists
                                                                  of an array of string/template
                                                                  objects. Use this
                                                                  attribute to define
                                                                  multiple templates
                                                                  for a single header.
                                                                  Header template(s)
                                                                  defined here will
                                                                  be appended to any
                                                                  existing headers
                                                                  with the same header
                                                                  name, not replace
                                                                  existing ones. See
                                                                  `headers` documentation
                                                                  to see an example
                                                                  of usage.
                                                                items:
                                                                  description: Defines
                                                                    a header-template
                                                                    pair to be used
                                                                    in `headers_to_append`
                                                                  properties:
                                                                    key:
                                                                      description: Header
                                                                        name
                                                                      type: string
                                                                    value:
                                                                      description: Apply
                                                                        a template
                                                                        to the header
                                                                        value
                                                                      properties:
                                                                        text:
                                                                          type: string
                                                                      type: object
                                                                  type: object
                                                                type: array
                                                              ignoreErrorOnParse:
                                                                description: If set
                                                                  to true, Envoy will
                                                                  not throw an exception
                                                                  in case the body
                                                                  parsing fails.
                                                                type: boolean
                                                              mergeExtractorsToBody:
                                                                description: Merge
                                                                  all defined extractors
                                                                  to the request/response
                                                                  body. If you want
                                                                  to nest elements
                                                                  inside the body,
                                                                  use dot separator
                                                                  in the extractor
                                                                  name.
                                                                type: object
                                                              parseBodyBehavior:
                                                                enum:
                                                                - ParseAsJson
                                                                - DontParse
                                                                type: string
                                                              passthrough:
                                                                description: This
                                                                  will cause the transformation
                                                                  filter not to buffer
                                                                  the body. Use this
                                                                  setting if the response
                                                                  body is large and
                                                                  you don't need to
                                                                  transform nor extract
                                                                  information from
                                                                  it.
                                                                type: object
                                                            type: object
                                                          xsltTransformation:
                                                            description: '(Enterprise
                                                              Only): Xslt Transformation'
                                                            properties:
                                                              nonXmlTransform:
                                                                description: This
                                                                  should be set to
                                                                  true if the content
                                                                  being transformed
                                                                  is not XML. For
                                                                  example, if the
                                                                  content being transformed
                                                                  is from JSON to
                                                                  XML, this should
                                                                  be set to true.
                                                                  XSLT transformations
                                                                  can only take valid
                                                                  XML as input to
                                                                  be transformed.
                                                                  If the body is not
                                                                  a valid XML (e.g.
                                                                  using JSON as input
                                                                  in a JSON-to-XML
                                                                  transformation),
                                                                  setting `non_xml_transform`
                                                                  to true will allow
                                                                  the XSLT to accept
                                                                  the non-XML input
                                                                  without throwing
                                                                  an error by passing
                                                                  the input as XML
                                                                  CDATA. defaults
                                                                  to false.
                                                                type: boolean
                                                              setContentType:
                                                                description: Changes
                                                                  the content-type
                                                                  header of the HTTP
                                                                  request/response
                                                                  to what is set here.
                                                                  This is useful in
                                                                  situations where
                                                                  an XSLT transformation
                                                                  is used to transform
                                                                  XML to JSON and
                                                                  the content-type
                                                                  should be changed
                                                                  from `application/xml`
                                                                  to `application/json`.
                                                                  If left empty, the
                                                                  content-type header
                                                                  remains unmodified
                                                                  by default.
                                                                type: string
                                                              xslt:
                                                                description: XSLT
                                                                  transformation template
                                                                  which you want to
                                                                  transform requests/responses
                                                                  with. Invalid XSLT
                                                                  transformation templates
                                                                  will result will
                                                                  result in a NACK
                                                                  during envoy configuration-time
                                                                  and the configuration
                                                                  will not be loaded.
                                                                type: string
                                                            type: object
                                                        type: object
                                                    type: object
                                                  type: array
                                                responseTransforms:
                                                  description: Transformations to
                                                    apply on the response. This field
                                                    is only consulted if there is
                                                    no response transformation in
                                                    the matched `request_transforms`.
                                                    i.e. Only one response transformation
                                                    will be executed. The first response
                                                    transformation that matches will
                                                    apply.
                                                  items:
                                                    properties:
                                                      matchers:
                                                        description: Response headers
                                                          to match on.
                                                        items:
                                                          description: Internally,
                                                            Gloo always uses the HTTP/2
                                                            *:authority* header to
                                                            represent the HTTP/1 *Host*
                                                            header. Thus, if attempting
                                                            to match on *Host*, match
                                                            on *:authority* instead.
                                                          properties:
                                                            invertMatch:
                                                              description: If set
                                                                to true, the result
                                                                of the match will
                                                                be inverted. Defaults
                                                                to false.
                                                              type: boolean
                                                            name:
                                                              description: Specifies
                                                                the name of the header
                                                                in the request.
                                                              type: string
                                                            regex:
                                                              description: Specifies
                                                                whether the header
                                                                value should be treated
                                                                as regex or not.
                                                              type: boolean
                                                            value:
                                                              description: Specifies
                                                                the value of the header.
                                                                If the value is absent
                                                                a request that has
                                                                the name header will
                                                                match, regardless
                                                                of the header’s value.
                                                              type: string
                                                          type: object
                                                        type: array
                                                      responseCodeDetails:
                                                        description: Response code
                                                          detail to match on. To see
                                                          the response code details
                                                          for your usecase, you can
                                                          use the envoy access log
                                                          %RESPONSE_CODE_DETAILS%
                                                          formatter to log it.
                                                        type: string
                                                      responseTransformation:
                                                        description: Transformation
                                                          to apply on the response.
                                                        properties:
                                                          headerBodyTransform:
                                                            description: 'This type
                                                              of transformation will
                                                              make all the headers
                                                              available in the response
                                                              body. The resulting
                                                              JSON body will consist
                                                              of two attributes: ''headers'',
                                                              containing the headers,
                                                              and ''body'', containing
                                                              the original body.'
                                                            type: object
                                                          transformationTemplate:
                                                            description: Apply transformation
                                                              templates.
                                                            properties:
                                                              advancedTemplates:
                                                                description: If set
                                                                  to true, use JSON
                                                                  pointer notation
                                                                  (e.g. "time/start")
                                                                  instead of dot notation
                                                                  (e.g. "time.start")
                                                                  to access JSON elements.
                                                                  Defaults to false.
                                                                type: boolean
                                                              body:
                                                                description: Apply
                                                                  a template to the
                                                                  body
                                                                properties:
                                                                  text:
                                                                    type: string
                                                                type: object
                                                              dynamicMetadataValues:
                                                                description: Use this
                                                                  field to set Dynamic
                                                                  Metadata.
                                                                items:
                                                                  description: Defines
                                                                    an [Envoy Dynamic
                                                                    Metadata](https://www.envoyproxy.io/docs/envoy/latest/configuration/advanced/well_known_dynamic_metadata)
                                                                    entry.
                                                                  properties:
                                                                    key:
                                                                      description: The
                                                                        metadata key.
                                                                      type: string
                                                                    metadataNamespace:
                                                                      description: The
                                                                        metadata namespace.
                                                                        Defaults to
                                                                        the filter
                                                                        namespace.
                                                                      type: string
                                                                    value:
                                                                      description: A
                                                                        template that
                                                                        determines
                                                                        the metadata
                                                                        value.
                                                                      properties:
                                                                        text:
                                                                          type: string
                                                                      type: object
                                                                  type: object
                                                                type: array
                                                              extractors:
                                                                additionalProperties:
                                                                  properties:
                                                                    body:
                                                                      description: Extract
                                                                        information
                                                                        from the request/response
                                                                        body
                                                                      maxProperties: 0
                                                                      type: object
                                                                    header:
                                                                      description: Extract
                                                                        information
                                                                        from headers
                                                                      type: string
                                                                    regex:
                                                                      description: Only
                                                                        strings matching
                                                                        this regular
                                                                        expression
                                                                        will be part
                                                                        of the extraction.
                                                                        The most simple
                                                                        value for
                                                                        this field
                                                                        is '.*', which
                                                                        matches the
                                                                        whole source.
                                                                        The field
                                                                        is required.
                                                                        If extraction
                                                                        fails the
                                                                        result is
                                                                        an empty value.
                                                                      type: string
                                                                    subgroup:
                                                                      description: If
                                                                        your regex
                                                                        contains capturing
                                                                        groups, use
                                                                        this field
                                                                        to determine
                                                                        which group
                                                                        should be
                                                                        selected.
                                                                      format: int32
                                                                      type: integer
                                                                  type: object
                                                                description: Use this
                                                                  attribute to extract
                                                                  information from
                                                                  the request. It
                                                                  consists of a map
                                                                  of strings to extractors.
                                                                  The extractor will
                                                                  defines which information
                                                                  will be extracted,
                                                                  while the string
                                                                  key will provide
                                                                  the extractor with
                                                                  a name. You can
                                                                  reference extractors
                                                                  by their name in
                                                                  templates, e.g.
                                                                  "{{ my-extractor
                                                                  }}" will render
                                                                  to the value of
                                                                  the "my-extractor"
                                                                  extractor.
                                                                type: object
                                                              headers:
                                                                additionalProperties:
                                                                  properties:
                                                                    text:
                                                                      type: string
                                                                  type: object
                                                                description: 'Use
                                                                  this attribute to
                                                                  transform request/response
                                                                  headers. It consists
                                                                  of a map of strings
                                                                  to templates. The
                                                                  string key determines
                                                                  the name of the
                                                                  resulting header,
                                                                  the rendered template
                                                                  will determine the
                                                                  value. Any existing
                                                                  headers with the
                                                                  same header name
                                                                  will be replaced
                                                                  by the transformed
                                                                  header. If a header
                                                                  name is included
                                                                  in `headers` and
                                                                  `headers_to_append`,
                                                                  it will first be
                                                                  replaced the template
                                                                  in `headers`, then
                                                                  additional header
                                                                  values will be appended
                                                                  by the templates
                                                                  defined in `headers_to_append`.
                                                                  For example, the
                                                                  following header
                                                                  transformation configuration:'
                                                                type: object
                                                              headersToAppend:
                                                                description: Use this
                                                                  attribute to transform
                                                                  request/response
                                                                  headers. It consists
                                                                  of an array of string/template
                                                                  objects. Use this
                                                                  attribute to define
                                                                  multiple templates
                                                                  for a single header.
                                                                  Header template(s)
                                                                  defined here will
                                                                  be appended to any
                                                                  existing headers
                                                                  with the same header
                                                                  name, not replace
                                                                  existing ones. See
                                                                  `headers` documentation
                                                                  to see an example
                                                                  of usage.
                                                                items:
                                                                  description: Defines
                                                                    a header-template
                                                                    pair to be used
                                                                    in `headers_to_append`
                                                                  properties:
                                                                    key:
                                                                      description: Header
                                                                        name
                                                                      type: string
                                                                    value:
                                                                      description: Apply
                                                                        a template
                                                                        to the header
                                                                        value
                                                                      properties:
                                                                        text:
                                                                          type: string
                                                                      type: object
                                                                  type: object
                                                                type: array
                                                              ignoreErrorOnParse:
                                                                description: If set
                                                                  to true, Envoy will
                                                                  not throw an exception
                                                                  in case the body
                                                                  parsing fails.
                                                                type: boolean
                                                              mergeExtractorsToBody:
                                                                description: Merge
                                                                  all defined extractors
                                                                  to the request/response
                                                                  body. If you want
                                                                  to nest elements
                                                                  inside the body,
                                                                  use dot separator
                                                                  in the extractor
                                                                  name.
                                                                type: object
                                                              parseBodyBehavior:
                                                                enum:
                                                                - ParseAsJson
                                                                - DontParse
                                                                type: string
                                                              passthrough:
                                                                description: This
                                                                  will cause the transformation
                                                                  filter not to buffer
                                                                  the body. Use this
                                                                  setting if the response
                                                                  body is large and
                                                                  you don't need to
                                                                  transform nor extract
                                                                  information from
                                                                  it.
                                                                type: object
                                                            type: object
                                                          xsltTransformation:
                                                            description: '(Enterprise
                                                              Only): Xslt Transformation'
                                                            properties:
                                                              nonXmlTransform:
                                                                description: This
                                                                  should be set to
                                                                  true if the content
                                                                  being transformed
                                                                  is not XML. For
                                                                  example, if the
                                                                  content being transformed
                                                                  is from JSON to
                                                                  XML, this should
                                                                  be set to true.
                                                                  XSLT transformations
                                                                  can only take valid
                                                                  XML as input to
                                                                  be transformed.
                                                                  If the body is not
                                                                  a valid XML (e.g.
                                                                  using JSON as input
                                                                  in a JSON-to-XML
                                                                  transformation),
                                                                  setting `non_xml_transform`
                                                                  to true will allow
                                                                  the XSLT to accept
                                                                  the non-XML input
                                                                  without throwing
                                                                  an error by passing
                                                                  the input as XML
                                                                  CDATA. defaults
                                                                  to false.
                                                                type: boolean
                                                              setContentType:
                                                                description: Changes
                                                                  the content-type
                                                                  header of the HTTP
                                                                  request/response
                                                                  to what is set here.
                                                                  This is useful in
                                                                  situations where
                                                                  an XSLT transformation
                                                                  is used to transform
                                                                  XML to JSON and
                                                                  the content-type
                                                                  should be changed
                                                                  from `application/xml`
                                                                  to `application/json`.
                                                                  If left empty, the
                                                                  content-type header
                                                                  remains unmodified
                                                                  by default.
                                                                type: string
                                                              xslt:
                                                                description: XSLT
                                                                  transformation template
                                                                  which you want to
                                                                  transform requests/responses
                                                                  with. Invalid XSLT
                                                                  transformation templates
                                                                  will result will
                                                                  result in a NACK
                                                                  during envoy configuration-time
                                                                  and the configuration
                                                                  will not be loaded.
                                                                type: string
                                                            type: object
                                                        type: object
                                                    type: object
                                                  type: array
                                              type: object
                                          type: object
                                        transformations:
                                          description: 'Transformations to apply.
                                            Note: this field is superseded by `staged_transformations`.
                                            If `staged_transformations.regular` is
                                            set, this field will be ignored.'
                                          properties:
                                            clearRouteCache:
                                              description: Clear the route cache if
                                                the request transformation was applied.
                                              type: boolean
                                            requestTransformation:
                                              description: Apply a transformation
                                                to requests.
                                              properties:
                                                headerBodyTransform:
                                                  description: 'This type of transformation
                                                    will make all the headers available
                                                    in the response body. The resulting
                                                    JSON body will consist of two
                                                    attributes: ''headers'', containing
                                                    the headers, and ''body'', containing
                                                    the original body.'
                                                  type: object
                                                transformationTemplate:
                                                  description: Apply transformation
                                                    templates.
                                                  properties:
                                                    advancedTemplates:
                                                      description: If set to true,
                                                        use JSON pointer notation
                                                        (e.g. "time/start") instead
                                                        of dot notation (e.g. "time.start")
                                                        to access JSON elements. Defaults
                                                        to false.
                                                      type: boolean
                                                    body:
                                                      description: Apply a template
                                                        to the body
                                                      properties:
                                                        text:
                                                          type: string
                                                      type: object
                                                    dynamicMetadataValues:
                                                      description: Use this field
                                                        to set Dynamic Metadata.
                                                      items:
                                                        description: Defines an [Envoy
                                                          Dynamic Metadata](https://www.envoyproxy.io/docs/envoy/latest/configuration/advanced/well_known_dynamic_metadata)
                                                          entry.
                                                        properties:
                                                          key:
                                                            description: The metadata
                                                              key.
                                                            type: string
                                                          metadataNamespace:
                                                            description: The metadata
                                                              namespace. Defaults
                                                              to the filter namespace.
                                                            type: string
                                                          value:
                                                            description: A template
                                                              that determines the
                                                              metadata value.
                                                            properties:
                                                              text:
                                                                type: string
                                                            type: object
                                                        type: object
                                                      type: array
                                                    extractors:
                                                      additionalProperties:
                                                        properties:
                                                          body:
                                                            description: Extract information
                                                              from the request/response
                                                              body
                                                            maxProperties: 0
                                                            type: object
                                                          header:
                                                            description: Extract information
                                                              from headers
                                                            type: string
                                                          regex:
                                                            description: Only strings
                                                              matching this regular
                                                              expression will be part
                                                              of the extraction. The
                                                              most simple value for
                                                              this field is '.*',
                                                              which matches the whole
                                                              source. The field is
                                                              required. If extraction
                                                              fails the result is
                                                              an empty value.
                                                            type: string
                                                          subgroup:
                                                            description: If your regex
                                                              contains capturing groups,
                                                              use this field to determine
                                                              which group should be
                                                              selected.
                                                            format: int32
                                                            type: integer
                                                        type: object
                                                      description: Use this attribute
                                                        to extract information from
                                                        the request. It consists of
                                                        a map of strings to extractors.
                                                        The extractor will defines
                                                        which information will be
                                                        extracted, while the string
                                                        key will provide the extractor
                                                        with a name. You can reference
                                                        extractors by their name in
                                                        templates, e.g. "{{ my-extractor
                                                        }}" will render to the value
                                                        of the "my-extractor" extractor.
                                                      type: object
                                                    headers:
                                                      additionalProperties:
                                                        properties:
                                                          text:
                                                            type: string
                                                        type: object
                                                      description: 'Use this attribute
                                                        to transform request/response
                                                        headers. It consists of a
                                                        map of strings to templates.
                                                        The string key determines
                                                        the name of the resulting
                                                        header, the rendered template
                                                        will determine the value.
                                                        Any existing headers with
                                                        the same header name will
                                                        be replaced by the transformed
                                                        header. If a header name is
                                                        included in `headers` and
                                                        `headers_to_append`, it will
                                                        first be replaced the template
                                                        in `headers`, then additional
                                                        header values will be appended
                                                        by the templates defined in
                                                        `headers_to_append`. For example,
                                                        the following header transformation
                                                        configuration:'
                                                      type: object
                                                    headersToAppend:
                                                      description: Use this attribute
                                                        to transform request/response
                                                        headers. It consists of an
                                                        array of string/template objects.
                                                        Use this attribute to define
                                                        multiple templates for a single
                                                        header. Header template(s)
                                                        defined here will be appended
                                                        to any existing headers with
                                                        the same header name, not
                                                        replace existing ones. See
                                                        `headers` documentation to
                                                        see an example of usage.
                                                      items:
                                                        description: Defines a header-template
                                                          pair to be used in `headers_to_append`
                                                        properties:
                                                          key:
                                                            description: Header name
                                                            type: string
                                                          value:
                                                            description: Apply a template
                                                              to the header value
                                                            properties:
                                                              text:
                                                                type: string
                                                            type: object
                                                        type: object
                                                      type: array
                                                    ignoreErrorOnParse:
                                                      description: If set to true,
                                                        Envoy will not throw an exception
                                                        in case the body parsing fails.
                                                      type: boolean
                                                    mergeExtractorsToBody:
                                                      description: Merge all defined
                                                        extractors to the request/response
                                                        body. If you want to nest
                                                        elements inside the body,
                                                        use dot separator in the extractor
                                                        name.
                                                      type: object
                                                    parseBodyBehavior:
                                                      enum:
                                                      - ParseAsJson
                                                      - DontParse
                                                      type: string
                                                    passthrough:
                                                      description: This will cause
                                                        the transformation filter
                                                        not to buffer the body. Use
                                                        this setting if the response
                                                        body is large and you don't
                                                        need to transform nor extract
                                                        information from it.
                                                      type: object
                                                  type: object
                                                xsltTransformation:
                                                  description: '(Enterprise Only):
                                                    Xslt Transformation'
                                                  properties:
                                                    nonXmlTransform:
                                                      description: This should be
                                                        set to true if the content
                                                        being transformed is not XML.
                                                        For example, if the content
                                                        being transformed is from
                                                        JSON to XML, this should be
                                                        set to true. XSLT transformations
                                                        can only take valid XML as
                                                        input to be transformed. If
                                                        the body is not a valid XML
                                                        (e.g. using JSON as input
                                                        in a JSON-to-XML transformation),
                                                        setting `non_xml_transform`
                                                        to true will allow the XSLT
                                                        to accept the non-XML input
                                                        without throwing an error
                                                        by passing the input as XML
                                                        CDATA. defaults to false.
                                                      type: boolean
                                                    setContentType:
                                                      description: Changes the content-type
                                                        header of the HTTP request/response
                                                        to what is set here. This
                                                        is useful in situations where
                                                        an XSLT transformation is
                                                        used to transform XML to JSON
                                                        and the content-type should
                                                        be changed from `application/xml`
                                                        to `application/json`. If
                                                        left empty, the content-type
                                                        header remains unmodified
                                                        by default.
                                                      type: string
                                                    xslt:
                                                      description: XSLT transformation
                                                        template which you want to
                                                        transform requests/responses
                                                        with. Invalid XSLT transformation
                                                        templates will result will
                                                        result in a NACK during envoy
                                                        configuration-time and the
                                                        configuration will not be
                                                        loaded.
                                                      type: string
                                                  type: object
                                              type: object
                                            responseTransformation:
                                              description: Apply a transformation
                                                to responses.
                                              properties:
                                                headerBodyTransform:
                                                  description: 'This type of transformation
                                                    will make all the headers available
                                                    in the response body. The resulting
                                                    JSON body will consist of two
                                                    attributes: ''headers'', containing
                                                    the headers, and ''body'', containing
                                                    the original body.'
                                                  type: object
                                                transformationTemplate:
                                                  description: Apply transformation
                                                    templates.
                                                  properties:
                                                    advancedTemplates:
                                                      description: If set to true,
                                                        use JSON pointer notation
                                                        (e.g. "time/start") instead
                                                        of dot notation (e.g. "time.start")
                                                        to access JSON elements. Defaults
                                                        to false.
                                                      type: boolean
                                                    body:
                                                      description: Apply a template
                                                        to the body
                                                      properties:
                                                        text:
                                                          type: string
                                                      type: object
                                                    dynamicMetadataValues:
                                                      description: Use this field
                                                        to set Dynamic Metadata.
                                                      items:
                                                        description: Defines an [Envoy
                                                          Dynamic Metadata](https://www.envoyproxy.io/docs/envoy/latest/configuration/advanced/well_known_dynamic_metadata)
                                                          entry.
                                                        properties:
                                                          key:
                                                            description: The metadata
                                                              key.
                                                            type: string
                                                          metadataNamespace:
                                                            description: The metadata
                                                              namespace. Defaults
                                                              to the filter namespace.
                                                            type: string
                                                          value:
                                                            description: A template
                                                              that determines the
                                                              metadata value.
                                                            properties:
                                                              text:
                                                                type: string
                                                            type: object
                                                        type: object
                                                      type: array
                                                    extractors:
                                                      additionalProperties:
                                                        properties:
                                                          body:
                                                            description: Extract information
                                                              from the request/response
                                                              body
                                                            maxProperties: 0
                                                            type: object
                                                          header:
                                                            description: Extract information
                                                              from headers
                                                            type: string
                                                          regex:
                                                            description: Only strings
                                                              matching this regular
                                                              expression will be part
                                                              of the extraction. The
                                                              most simple value for
                                                              this field is '.*',
                                                              which matches the whole
                                                              source. The field is
                                                              required. If extraction
                                                              fails the result is
                                                              an empty value.
                                                            type: string
                                                          subgroup:
                                                            description: If your regex
                                                              contains capturing groups,
                                                              use this field to determine
                                                              which group should be
                                                              selected.
                                                            format: int32
                                                            type: integer
                                                        type: object
                                                      description: Use this attribute
                                                        to extract information from
                                                        the request. It consists of
                                                        a map of strings to extractors.
                                                        The extractor will defines
                                                        which information will be
                                                        extracted, while the string
                                                        key will provide the extractor
                                                        with a name. You can reference
                                                        extractors by their name in
                                                        templates, e.g. "{{ my-extractor
                                                        }}" will render to the value
                                                        of the "my-extractor" extractor.
                                                      type: object
                                                    headers:
                                                      additionalProperties:
                                                        properties:
                                                          text:
                                                            type: string
                                                        type: object
                                                      description: 'Use this attribute
                                                        to transform request/response
                                                        headers. It consists of a
                                                        map of strings to templates.
                                                        The string key determines
                                                        the name of the resulting
                                                        header, the rendered template
                                                        will determine the value.
                                                        Any existing headers with
                                                        the same header name will
                                                        be replaced by the transformed
                                                        header. If a header name is
                                                        included in `headers` and
                                                        `headers_to_append`, it will
                                                        first be replaced the template
                                                        in `headers`, then additional
                                                        header values will be appended
                                                        by the templates defined in
                                                        `headers_to_append`. For example,
                                                        the following header transformation
                                                        configuration:'
                                                      type: object
                                                    headersToAppend:
                                                      description: Use this attribute
                                                        to transform request/response
                                                        headers. It consists of an
                                                        array of string/template objects.
                                                        Use this attribute to define
                                                        multiple templates for a single
                                                        header. Header template(s)
                                                        defined here will be appended
                                                        to any existing headers with
                                                        the same header name, not
                                                        replace existing ones. See
                                                        `headers` documentation to
                                                        see an example of usage.
                                                      items:
                                                        description: Defines a header-template
                                                          pair to be used in `headers_to_append`
                                                        properties:
                                                          key:
                                                            description: Header name
                                                            type: string
                                                          value:
                                                            description: Apply a template
                                                              to the header value
                                                            properties:
                                                              text:
                                                                type: string
                                                            type: object
                                                        type: object
                                                      type: array
                                                    ignoreErrorOnParse:
                                                      description: If set to true,
                                                        Envoy will not throw an exception
                                                        in case the body parsing fails.
                                                      type: boolean
                                                    mergeExtractorsToBody:
                                                      description: Merge all defined
                                                        extractors to the request/response
                                                        body. If you want to nest
                                                        elements inside the body,
                                                        use dot separator in the extractor
                                                        name.
                                                      type: object
                                                    parseBodyBehavior:
                                                      enum:
                                                      - ParseAsJson
                                                      - DontParse
                                                      type: string
                                                    passthrough:
                                                      description: This will cause
                                                        the transformation filter
                                                        not to buffer the body. Use
                                                        this setting if the response
                                                        body is large and you don't
                                                        need to transform nor extract
                                                        information from it.
                                                      type: object
                                                  type: object
                                                xsltTransformation:
                                                  description: '(Enterprise Only):
                                                    Xslt Transformation'
                                                  properties:
                                                    nonXmlTransform:
                                                      description: This should be
                                                        set to true if the content
                                                        being transformed is not XML.
                                                        For example, if the content
                                                        being transformed is from
                                                        JSON to XML, this should be
                                                        set to true. XSLT transformations
                                                        can only take valid XML as
                                                        input to be transformed. If
                                                        the body is not a valid XML
                                                        (e.g. using JSON as input
                                                        in a JSON-to-XML transformation),
                                                        setting `non_xml_transform`
                                                        to true will allow the XSLT
                                                        to accept the non-XML input
                                                        without throwing an error
                                                        by passing the input as XML
                                                        CDATA. defaults to false.
                                                      type: boolean
                                                    setContentType:
                                                      description: Changes the content-type
                                                        header of the HTTP request/response
                                                        to what is set here. This
                                                        is useful in situations where
                                                        an XSLT transformation is
                                                        used to transform XML to JSON
                                                        and the content-type should
                                                        be changed from `application/xml`
                                                        to `application/json`. If
                                                        left empty, the content-type
                                                        header remains unmodified
                                                        by default.
                                                      type: string
                                                    xslt:
                                                      description: XSLT transformation
                                                        template which you want to
                                                        transform requests/responses
                                                        with. Invalid XSLT transformation
                                                        templates will result will
                                                        result in a NACK during envoy
                                                        configuration-time and the
                                                        configuration will not be
                                                        loaded.
                                                      type: string
                                                  type: object
                                              type: object
                                          type: object
                                      type: object
                                    weight:
                                      description: Weight must be greater than zero
                                        Routing to each destination will be balanced
                                        by the ratio of the destination's weight to
                                        the total weight on a route
                                      format: int32
                                      type: integer
                                  type: object
                                type: array
                            type: object
                          single:
                            description: Use SingleDestination to route to a single
                              upstream
                            properties:
                              consul:
                                description: Route requests to a consul service
                                properties:
                                  dataCenters:
                                    description: If provided, load balance traffic
                                      only between services running in the given [data
                                      centers](https://www.consul.io/docs/internals/architecture.html).
                                    items:
                                      type: string
                                    type: array
                                  serviceName:
                                    description: The name of the target service. This
                                      field is required.
                                    type: string
                                  tags:
                                    description: If provided, load balance traffic
                                      only between services matching all the given
                                      tags.
                                    items:
                                      type: string
                                    type: array
                                type: object
                              destinationSpec:
                                description: Some upstreams utilize options which
                                  require or permit additional configuration on routes
                                  targeting them. gRPC upstreams, for example, allow
                                  specifying REST-style parameters for JSON-to-gRPC
                                  transcoding in the destination config. If the destination
                                  config is required for the upstream and not provided
                                  by the user, Gloo will invalidate the destination
                                  and its parent resources.
                                properties:
                                  aws:
                                    properties:
                                      invocationStyle:
                                        description: Can be either Sync or Async.
                                        enum:
                                        - SYNC
                                        - ASYNC
                                        type: string
                                      logicalName:
                                        description: The Logical Name of the LambdaFunctionSpec
                                          to be invoked.
                                        type: string
                                      responseTransformation:
                                        description: de-jsonify response bodies returned
                                          from aws lambda
                                        type: boolean
                                    type: object
                                  azure:
                                    properties:
                                      functionName:
                                        description: The Function Name of the FunctionSpec
                                          to be invoked.
                                        type: string
                                    type: object
                                  grpc:
                                    properties:
                                      function:
                                        description: The name of the function.
                                        type: string
                                      package:
                                        description: The proto package of the function.
                                        type: string
                                      parameters:
                                        description: Parameters describe how to extract
                                          the function parameters from the request.
                                        properties:
                                          headers:
                                            additionalProperties:
                                              type: string
                                            description: 'headers that will be used
                                              to extract data for processing output
                                              templates Gloo will search for parameters
                                              by their name in header value strings,
                                              enclosed in single curly braces Example:
                                              extensions: parameters: headers: x-user-id:
                                              ''{userId}'''
                                            type: object
                                          path:
                                            description: 'part of the (or the entire)
                                              path that will be used extract data
                                              for processing output templates Gloo
                                              will search for parameters by their
                                              name in header value strings, enclosed
                                              in single curly braces Example: extensions:
                                              parameters: path: /users/{ userId }'
                                            nullable: true
                                            type: string
                                        type: object
                                      service:
                                        description: The name of the service of the
                                          function.
                                        type: string
                                    type: object
                                  rest:
                                    properties:
                                      functionName:
                                        type: string
                                      parameters:
                                        properties:
                                          headers:
                                            additionalProperties:
                                              type: string
                                            description: 'headers that will be used
                                              to extract data for processing output
                                              templates Gloo will search for parameters
                                              by their name in header value strings,
                                              enclosed in single curly braces Example:
                                              extensions: parameters: headers: x-user-id:
                                              ''{userId}'''
                                            type: object
                                          path:
                                            description: 'part of the (or the entire)
                                              path that will be used extract data
                                              for processing output templates Gloo
                                              will search for parameters by their
                                              name in header value strings, enclosed
                                              in single curly braces Example: extensions:
                                              parameters: path: /users/{ userId }'
                                            nullable: true
                                            type: string
                                        type: object
                                      responseTransformation:
                                        properties:
                                          advancedTemplates:
                                            description: If set to true, use JSON
                                              pointer notation (e.g. "time/start")
                                              instead of dot notation (e.g. "time.start")
                                              to access JSON elements. Defaults to
                                              false.
                                            type: boolean
                                          body:
                                            description: Apply a template to the body
                                            properties:
                                              text:
                                                type: string
                                            type: object
                                          dynamicMetadataValues:
                                            description: Use this field to set Dynamic
                                              Metadata.
                                            items:
                                              description: Defines an [Envoy Dynamic
                                                Metadata](https://www.envoyproxy.io/docs/envoy/latest/configuration/advanced/well_known_dynamic_metadata)
                                                entry.
                                              properties:
                                                key:
                                                  description: The metadata key.
                                                  type: string
                                                metadataNamespace:
                                                  description: The metadata namespace.
                                                    Defaults to the filter namespace.
                                                  type: string
                                                value:
                                                  description: A template that determines
                                                    the metadata value.
                                                  properties:
                                                    text:
                                                      type: string
                                                  type: object
                                              type: object
                                            type: array
                                          extractors:
                                            additionalProperties:
                                              properties:
                                                body:
                                                  description: Extract information
                                                    from the request/response body
                                                  maxProperties: 0
                                                  type: object
                                                header:
                                                  description: Extract information
                                                    from headers
                                                  type: string
                                                regex:
                                                  description: Only strings matching
                                                    this regular expression will be
                                                    part of the extraction. The most
                                                    simple value for this field is
                                                    '.*', which matches the whole
                                                    source. The field is required.
                                                    If extraction fails the result
                                                    is an empty value.
                                                  type: string
                                                subgroup:
                                                  description: If your regex contains
                                                    capturing groups, use this field
                                                    to determine which group should
                                                    be selected.
                                                  format: int32
                                                  type: integer
                                              type: object
                                            description: Use this attribute to extract
                                              information from the request. It consists
                                              of a map of strings to extractors. The
                                              extractor will defines which information
                                              will be extracted, while the string
                                              key will provide the extractor with
                                              a name. You can reference extractors
                                              by their name in templates, e.g. "{{
                                              my-extractor }}" will render to the
                                              value of the "my-extractor" extractor.
                                            type: object
                                          headers:
                                            additionalProperties:
                                              properties:
                                                text:
                                                  type: string
                                              type: object
                                            description: 'Use this attribute to transform
                                              request/response headers. It consists
                                              of a map of strings to templates. The
                                              string key determines the name of the
                                              resulting header, the rendered template
                                              will determine the value. Any existing
                                              headers with the same header name will
                                              be replaced by the transformed header.
                                              If a header name is included in `headers`
                                              and `headers_to_append`, it will first
                                              be replaced the template in `headers`,
                                              then additional header values will be
                                              appended by the templates defined in
                                              `headers_to_append`. For example, the
                                              following header transformation configuration:'
                                            type: object
                                          headersToAppend:
                                            description: Use this attribute to transform
                                              request/response headers. It consists
                                              of an array of string/template objects.
                                              Use this attribute to define multiple
                                              templates for a single header. Header
                                              template(s) defined here will be appended
                                              to any existing headers with the same
                                              header name, not replace existing ones.
                                              See `headers` documentation to see an
                                              example of usage.
                                            items:
                                              description: Defines a header-template
                                                pair to be used in `headers_to_append`
                                              properties:
                                                key:
                                                  description: Header name
                                                  type: string
                                                value:
                                                  description: Apply a template to
                                                    the header value
                                                  properties:
                                                    text:
                                                      type: string
                                                  type: object
                                              type: object
                                            type: array
                                          ignoreErrorOnParse:
                                            description: If set to true, Envoy will
                                              not throw an exception in case the body
                                              parsing fails.
                                            type: boolean
                                          mergeExtractorsToBody:
                                            description: Merge all defined extractors
                                              to the request/response body. If you
                                              want to nest elements inside the body,
                                              use dot separator in the extractor name.
                                            type: object
                                          parseBodyBehavior:
                                            enum:
                                            - ParseAsJson
                                            - DontParse
                                            type: string
                                          passthrough:
                                            description: This will cause the transformation
                                              filter not to buffer the body. Use this
                                              setting if the response body is large
                                              and you don't need to transform nor
                                              extract information from it.
                                            type: object
                                        type: object
                                    type: object
                                type: object
                              kube:
                                description: Route requests to a kubernetes service
                                properties:
                                  port:
                                    description: The port attribute of the service
                                    format: int32
                                    type: integer
                                  ref:
                                    description: The target service
                                    properties:
                                      name:
                                        type: string
                                      namespace:
                                        type: string
                                    type: object
                                type: object
                              subset:
                                description: If specified, traffic will only be routed
                                  to a subset of the upstream. If upstream doesn't
                                  contain the specified subset, we will fallback to
                                  normal upstream routing.
                                properties:
                                  values:
                                    additionalProperties:
                                      type: string
                                    type: object
                                type: object
                              upstream:
                                description: Route requests to a Gloo upstream
                                properties:
                                  name:
                                    type: string
                                  namespace:
                                    type: string
                                type: object
                            type: object
                          upstreamGroup:
                            description: Use a reference to an upstream group for
                              routing.
                            properties:
                              name:
                                type: string
                              namespace:
                                type: string
                            type: object
                        type: object
                      name:
                        description: the logical name of the tcp host. names must
                          be unique for each tcp host within a listener
                        type: string
                      sslConfig:
                        description: If provided, the Gateway will serve TLS/SSL traffic
                          for this set of routes
                        properties:
                          alpnProtocols:
                            description: Set Application Level Protocol Negotiation
                              If empty, defaults to ["h2", "http/1.1"].
                            items:
                              type: string
                            type: array
                          oneWayTls:
                            description: If the SSL config has the ca.crt (root CA)
                              provided, Gloo uses it to perform mTLS by default. Set
                              oneWayTls to true to disable mTLS in favor of server-only
                              TLS (one-way TLS), even if Gloo has the root CA. Defaults
                              to false.
                            type: boolean
                          parameters:
                            properties:
                              cipherSuites:
                                items:
                                  type: string
                                type: array
                              ecdhCurves:
                                items:
                                  type: string
                                type: array
                              maximumProtocolVersion:
                                enum:
                                - TLS_AUTO
                                - TLSv1_0
                                - TLSv1_1
                                - TLSv1_2
                                - TLSv1_3
                                type: string
                              minimumProtocolVersion:
                                enum:
                                - TLS_AUTO
                                - TLSv1_0
                                - TLSv1_1
                                - TLSv1_2
                                - TLSv1_3
                                type: string
                            type: object
                          sds:
                            description: Use secret discovery service.
                            properties:
                              callCredentials:
                                description: Call credentials.
                                properties:
                                  fileCredentialSource:
                                    description: Call credentials are coming from
                                      a file,
                                    properties:
                                      header:
                                        description: Header to carry the token.
                                        type: string
                                      tokenFileName:
                                        description: File containing auth token.
                                        type: string
                                    type: object
                                type: object
                              certificatesSecretName:
                                description: The name of the secret containing the
                                  certificate
                                type: string
                              clusterName:
                                description: The name of the sds cluster in envoy
                                type: string
                              targetUri:
                                description: Target uri for the sds channel. currently
                                  only a unix domain socket is supported.
                                type: string
                              validationContextName:
                                description: The name of secret containing the validation
                                  context (i.e. root ca)
                                type: string
                            type: object
                          secretRef:
                            description: SecretRef contains the secret ref to a gloo
                              tls secret or a kubernetes tls secret. gloo tls secret
                              can contain a root ca as well if verification is needed.
                            properties:
                              name:
                                type: string
                              namespace:
                                type: string
                            type: object
                          sniDomains:
                            description: optional. the SNI domains that should be
                              considered for TLS connections
                            items:
                              type: string
                            type: array
                          sslFiles:
                            description: SSLFiles reference paths to certificates
                              which are local to the proxy
                            properties:
                              rootCa:
                                description: for client cert validation. optional
                                type: string
                              tlsCert:
                                type: string
                              tlsKey:
                                type: string
                            type: object
                          verifySubjectAltName:
                            description: Verify that the Subject Alternative Name
                              in the peer certificate is one of the specified values.
                              note that a root_ca must be provided if this option
                              is used.
                            items:
                              type: string
                            type: array
                        type: object
                    type: object
                  type: array
              type: object
            useProxyProto:
              description: Enable ProxyProtocol support for this listener
              nullable: true
              type: boolean
          type: object
        status:
          description: Status indicates the validation status of this resource. Status
            is read-only by clients, and set by gloo during validation
          type: object
          x-kubernetes-preserve-unknown-fields: true
      type: object
  version: v1
  versions:
  - name: v1
    served: true
    storage: true
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
