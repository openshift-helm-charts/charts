# Code generated by skv2. DO NOT EDIT.

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  labels:
    app: gloo-mesh
    app.kubernetes.io/name: gloo-mesh
  name: settings.settings.mesh.gloo.solo.io
spec:
  group: settings.mesh.gloo.solo.io
  names:
    kind: Settings
    listKind: SettingsList
    plural: settings
    singular: settings
  preserveUnknownFields: false
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        spec:
          description: Configure system-wide settings and defaults. Settings specified
            in networking policies take precedence over those specified here.
          properties:
            discovery:
              description: Settings for Gloo Mesh discovery.
              properties:
                istio:
                  description: Istio-specific discovery settings
                  properties:
                    ingressGatewayDetectors:
                      additionalProperties:
                        properties:
                          gatewayTlsPortName:
                            description: |-
                              The name of the TLS port used to detect ingress gateways. Kubernetes services must have a port with this name
                              in order to be recognized as an ingress gateway. If not specified, will default to `tls`.
                            type: string
                          gatewayWorkloadLabels:
                            additionalProperties:
                              type: string
                            description: |-
                              Workload labels used to detect ingress gateways for an Istio deployment.
                              If not specified, will default to `{"istio": "ingressgateway"}`.
                            type: object
                        type: object
                      description: |-
                        Configure discovery of ingress gateways per cluster. The key to the map is either a Gloo Mesh cluster name or
                        `*` denoting all clusters. If an entry is found for a given cluster, it will be used. Otherwise, the
                        wildcard entry will be used if it exists. Lastly, we will fall back to a set of default values.
                      type: object
                  type: object
              type: object
            mtls:
              description: Configure default mTLS settings for Destinations.
              properties:
                istio:
                  description: Istio TLS settings.
                  properties:
                    tlsMode:
                      description: TLS connection mode
                      enum:
                      - DISABLE
                      - SIMPLE
                      - ISTIO_MUTUAL
                      type: string
                  type: object
              type: object
            networkingExtensionServers:
              description: |-
                Configure Gloo Mesh networking to communicate with one or more external gRPC NetworkingExtensions servers.
                Updates will be applied by the servers in the order they are listed (servers towards the end of the list take precedence).
                Note: Extension Servers have full write access to the output objects written by Gloo Mesh.
              items:
                properties:
                  address:
                    description: TCP address of the gRPC Server (including port).
                    type: string
                  insecure:
                    description: If true communicate over HTTP rather than HTTPS.
                    type: boolean
                  reconnectOnNetworkFailures:
                    description: If true Gloo Mesh will automatically attempt to reconnect
                      to the server after encountering network failures.
                    type: boolean
                type: object
              type: array
            relay:
              description: Enable and configure use of Relay mode to communicate with
                remote clusters. This is an enterprise-only feature.
              properties:
                enabled:
                  description: |-
                    Enable the use of Relay for cluster management.
                    If relay is enabled, make sure to follow the [relay cluster registration guide]({{< versioned_link_path fromRoot="/guides/setup/register_cluster#relay" >}})
                    for registering your clusters.
                  type: boolean
                server:
                  description: |-
                    Connection info for the Relay Server. Gloo Mesh will fetch discovery resources from this server
                    and push translated outputs to this server.
                    Note: currently this field has no effect as the relay server runs in-process of the networking Pod.
                  properties:
                    address:
                      description: TCP address of the gRPC Server (including port).
                      type: string
                    insecure:
                      description: If true communicate over HTTP rather than HTTPS.
                      type: boolean
                    reconnectOnNetworkFailures:
                      description: If true Gloo Mesh will automatically attempt to
                        reconnect to the server after encountering network failures.
                      type: boolean
                  type: object
              type: object
          type: object
        status:
          properties:
            errors:
              description: Any errors encountered while processing Settings object.
              items:
                type: string
              type: array
            observedGeneration:
              description: |-
                The most recent generation observed in the the Settings metadata.
                If the `observedGeneration` does not match `metadata.generation`, Gloo Mesh has not processed the most
                recent version of this resource.
              format: int64
              type: integer
            state:
              description: |-
                The state of the overall resource.
                It will only show accepted if no processing errors encountered.
              enum:
              - PENDING
              - ACCEPTED
              - INVALID
              - FAILED
              type: string
          type: object
      type: object
  versions:
  - name: v1
    served: true
    storage: true
