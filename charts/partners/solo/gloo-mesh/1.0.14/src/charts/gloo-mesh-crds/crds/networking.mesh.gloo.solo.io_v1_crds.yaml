# Code generated by skv2. DO NOT EDIT.

apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  labels:
    app: gloo-mesh
    app.kubernetes.io/name: gloo-mesh
  name: trafficpolicies.networking.mesh.gloo.solo.io
spec:
  group: networking.mesh.gloo.solo.io
  names:
    kind: TrafficPolicy
    listKind: TrafficPolicyList
    plural: trafficpolicies
    singular: trafficpolicy
  preserveUnknownFields: false
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        spec:
          description: Applies L7 routing and post-routing configuration on selected
            network edges.
          properties:
            destinationSelector:
              description: |-
                Specify the Destinations (destinations) this TrafficPolicy applies to.
                Omit to apply to all Destinations.
              items:
                properties:
                  kubeServiceMatcher:
                    description: Match Kubernetes Services by their labels, namespaces,
                      and/or clusters.
                    properties:
                      clusters:
                        description: |-
                          If specified, match Kubernetes Services if they exist in one of the specified clusters.
                                     When used in a networking policy, omission matches any cluster.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any cluster.
                        items:
                          type: string
                        type: array
                      labels:
                        additionalProperties:
                          type: string
                        description: |-
                          If specified, a match requires all labels to exist on a Kubernetes Service.
                                     When used in a networking policy, omission matches any labels.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any label key and/or value.
                        type: object
                      namespaces:
                        description: |-
                          If specified, match Kubernetes Services if they exist in one of the specified namespaces.
                                     When used in a networking policy, omission matches any namespace.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any namespace.
                        items:
                          type: string
                        type: array
                    type: object
                  kubeServiceRefs:
                    description: Match Kubernetes Services by direct reference.
                    properties:
                      services:
                        description: |-
                          Match Kubernetes Services by direct reference.
                                     When used in a networking policy, omission of any field (name, namespace, or clusterName) allows matching any value for that field.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any value for the given field.
                        items:
                          properties:
                            clusterName:
                              description: name of the cluster in which the resource
                                exists
                              type: string
                            name:
                              description: name of the resource being referenced
                              type: string
                            namespace:
                              description: namespace of the resource being referenced
                              type: string
                          type: object
                        type: array
                    type: object
                type: object
              type: array
            httpRequestMatchers:
              description: |-
                Specify criteria that HTTP requests must satisfy for the TrafficPolicy to apply.
                Conditions defined within a single matcher are conjunctive, i.e. all conditions must be satisfied for a match to occur.
                Conditions defined between different matchers are disjunctive, i.e. at least one matcher must be satisfied for the TrafficPolicy to apply.
                Omit to apply to any HTTP request.
              items:
                oneOf:
                - not:
                    anyOf:
                    - required:
                      - prefix
                    - required:
                      - exact
                    - required:
                      - regex
                - required:
                  - prefix
                - required:
                  - exact
                - required:
                  - regex
                properties:
                  exact:
                    description: If specified, the targeted path must exactly match
                      the value.
                    type: string
                  headers:
                    description: Specify a set of headers which requests must match
                      in entirety (all headers must match).
                    items:
                      properties:
                        invertMatch:
                          description: |-
                            If set to true, the result of the match will be inverted. Defaults to false.

                               Examples:

                                   - name=foo, invert_match=true: matches if no header named `foo` is present
                                   - name=foo, value=bar, invert_match=true: matches if no header named `foo` with value `bar` is present
                                   - name=foo, value=``\d{3}``, regex=true, invert_match=true: matches if no header named `foo` with a value consisting of three integers is present.
                          type: boolean
                        name:
                          description: Specify the name of the header in the request.
                          type: string
                        regex:
                          description: Specify whether the header value should be
                            treated as regex.
                          type: boolean
                        value:
                          description: |-
                            Specify the value of the header. If the value is absent a request that
                            has the name header will match, regardless of the headerâ€™s value.
                          type: string
                      type: object
                    type: array
                  method:
                    description: Specify an HTTP method to match against.
                    type: string
                  prefix:
                    description: If specified, the targeted path must begin with the
                      prefix.
                    type: string
                  queryParameters:
                    description: Specify a set of URL query parameters which requests
                      must match in entirety (all query params must match).
                    items:
                      properties:
                        name:
                          description: Specify the name of a key that must be present
                            in the requested path's query string.
                          type: string
                        regex:
                          description: If true, treat `value` as a regular expression.
                          type: boolean
                        value:
                          description: Specify the value of the query parameter keyed
                            on `name`.
                          type: string
                      type: object
                    type: array
                  regex:
                    description: If specified, the targeted path must match the regex.
                    type: string
                type: object
              type: array
            policy:
              description: Specify L7 routing and post-routing configuration.
              properties:
                corsPolicy:
                  description: |-
                    Set a Cross-Origin Resource Sharing policy (CORS) for requests. Refer to [this link](https://developer.mozilla.org/en-US/docs/Web/HTTP/Access_control_CORS)
                    for further details about cross origin resource sharing.
                  properties:
                    allowCredentials:
                      description: |-
                        Indicates whether the caller is allowed to send the actual request
                        (not the preflight) using credentials. Translates to the
                        `Access-Control-Allow-Credentials` header.
                      nullable: true
                      type: boolean
                    allowHeaders:
                      description: |-
                        List of HTTP headers that can be used when requesting the
                        resource. Serialized to the `Access-Control-Allow-Headers` header.
                      items:
                        type: string
                      type: array
                    allowMethods:
                      description: |-
                        List of HTTP methods allowed to access the resource. The content will
                        be serialized to the `Access-Control-Allow-Methods` header.
                      items:
                        type: string
                      type: array
                    allowOrigins:
                      description: String patterns that match allowed origins. An
                        origin is allowed if any of the string matchers match.
                      items:
                        oneOf:
                        - not:
                            anyOf:
                            - required:
                              - exact
                            - required:
                              - prefix
                            - required:
                              - regex
                        - required:
                          - exact
                        - required:
                          - prefix
                        - required:
                          - regex
                        properties:
                          exact:
                            description: Exact string match.
                            type: string
                          prefix:
                            description: Prefix-based match.
                            type: string
                          regex:
                            description: ECMAscript style regex-based match.
                            type: string
                        type: object
                      type: array
                    exposeHeaders:
                      description: |-
                        A list of HTTP headers that browsers are allowed to
                        access. Serialized to the `Access-Control-Expose-Headers` header.
                      items:
                        type: string
                      type: array
                    maxAge:
                      description: |-
                        Specify how long the results of a preflight request can be
                        cached. Serialized to the `Access-Control-Max-Age` header.
                      type: string
                  type: object
                faultInjection:
                  description: Inject faulty responses.
                  oneOf:
                  - not:
                      anyOf:
                      - required:
                        - fixedDelay
                      - required:
                        - abort
                  - required:
                    - fixedDelay
                  - required:
                    - abort
                  properties:
                    abort:
                      description: Abort the request and return the specified error
                        code back to traffic source.
                      properties:
                        httpStatus:
                          description: Required. HTTP status code to use to abort
                            the request.
                          format: int32
                          type: integer
                      type: object
                    fixedDelay:
                      description: 'Add a delay of a fixed duration before sending
                        the request. Format: `1h`/`1m`/`1s`/`1ms`. MUST be >=1ms.'
                      type: string
                    percentage:
                      description: Percentage of requests to be faulted. Values range
                        between 0 and 100. If omitted all requests will be faulted.
                      format: double
                      type: number
                  type: object
                headerManipulation:
                  description: Manipulate request and response headers.
                  properties:
                    appendRequestHeaders:
                      additionalProperties:
                        type: string
                      description: Additional HTTP headers to add before forwarding
                        a request to the destination service.
                      type: object
                    appendResponseHeaders:
                      additionalProperties:
                        type: string
                      description: Additional HTTP headers to add before returning
                        a response to the caller.
                      type: object
                    removeRequestHeaders:
                      description: HTTP headers to remove before forwarding a request
                        to the destination service.
                      items:
                        type: string
                      type: array
                    removeResponseHeaders:
                      description: HTTP headers to remove before returning a response
                        to the caller.
                      items:
                        type: string
                      type: array
                  type: object
                mirror:
                  description: Mirror traffic to a another destination (traffic will
                    be sent to its original destination in addition to the mirrored
                    destinations).
                  oneOf:
                  - not:
                      anyOf:
                      - required:
                        - kubeService
                  - required:
                    - kubeService
                  properties:
                    kubeService:
                      description: Reference (name, namespace, Gloo Mesh cluster)
                        to a Kubernetes service.
                      properties:
                        clusterName:
                          description: name of the cluster in which the resource exists
                          type: string
                        name:
                          description: name of the resource being referenced
                          type: string
                        namespace:
                          description: namespace of the resource being referenced
                          type: string
                      type: object
                    percentage:
                      description: Percentage of traffic to mirror. If omitted all
                        traffic will be mirrored. Values must be between 0 and 100.
                      format: double
                      type: number
                    port:
                      description: Port on the destination to receive traffic. Required
                        if the destination exposes multiple ports.
                      maximum: 4294967295
                      minimum: 0
                      type: integer
                  type: object
                mtls:
                  description: Configure mTLS settings. If specified will override
                    global default defined in Settings.
                  properties:
                    istio:
                      description: Istio TLS settings.
                      properties:
                        tlsMode:
                          description: TLS connection mode
                          enum:
                          - DISABLE
                          - SIMPLE
                          - ISTIO_MUTUAL
                          type: string
                      type: object
                  type: object
                outlierDetection:
                  description: |-
                    Configure [outlier detection](https://www.envoyproxy.io/docs/envoy/latest/intro/arch_overview/upstream/outlier) on the selected destinations.
                    Specifying this field requires an empty `source_selector` because it must apply to all traffic.
                  properties:
                    baseEjectionTime:
                      description: 'The minimum ejection duration. Format: `1h`/`1m`/`1s`/`1ms`.
                        Must be >= `1ms`. A default will be used if not set.'
                      type: string
                    consecutiveErrors:
                      description: The number of errors before a host is ejected from
                        the connection pool. A default will be used if not set.
                      maximum: 4294967295
                      minimum: 0
                      type: integer
                    interval:
                      description: 'The time interval between ejection sweep analysis.
                        Format: `1h`/`1m`/`1s`/`1ms`. Must be >= `1ms`. A default
                        will be used if not set.'
                      type: string
                    maxEjectionPercent:
                      description: |-
                        The maximum percentage of hosts that can be ejected from the load balancing pool.
                        At least one host will be ejected regardless of the value. Must be between 0 and 100. A default will be used if not set.
                      maximum: 4294967295
                      minimum: 0
                      type: integer
                  type: object
                requestTimeout:
                  description: Set a timeout on requests.
                  type: string
                retries:
                  description: Set a retry policy on requests.
                  properties:
                    attempts:
                      description: Number of retries for a given request
                      format: int32
                      type: integer
                    perTryTimeout:
                      description: 'Timeout per retry attempt for a given request.
                        Format: `1h`/`1m`/`1s`/`1ms`. *Must be >= 1ms*.'
                      type: string
                  type: object
                trafficShift:
                  description: Shift traffic to a different destination.
                  properties:
                    destinations:
                      description: Specify weighted traffic shift destinations.
                      items:
                        oneOf:
                        - not:
                            anyOf:
                            - required:
                              - kubeService
                            - required:
                              - virtualDestination
                        - required:
                          - kubeService
                        - required:
                          - virtualDestination
                        properties:
                          kubeService:
                            description: Specify a Kubernetes Service.
                            properties:
                              clusterName:
                                description: The Gloo Mesh cluster name (registration
                                  name) of the service.
                                type: string
                              name:
                                description: The name of the service.
                                type: string
                              namespace:
                                description: The namespace of the service.
                                type: string
                              port:
                                description: Port on the service to receive traffic.
                                  Required if the service exposes more than one port.
                                maximum: 4294967295
                                minimum: 0
                                type: integer
                              subset:
                                additionalProperties:
                                  type: string
                                description: Specify, by labels, a subset of service
                                  instances to route to.
                                type: object
                            type: object
                          virtualDestination:
                            description: Specify a VirtualDestination.
                            properties:
                              name:
                                description: The name of the VirtualDestination object.
                                type: string
                              namespace:
                                description: The namespace of the VirtualDestination
                                  object.
                                type: string
                              subset:
                                additionalProperties:
                                  type: string
                                description: Specify, by labels, a subset of service
                                  instances backing the VirtualDestination to route
                                  to.
                                type: object
                            type: object
                          weight:
                            description: |-
                              Specify the proportion of traffic to be forwarded to this destination.
                              Weights across all of the `destinations` must sum to 100.
                            maximum: 4294967295
                            minimum: 0
                            type: integer
                        type: object
                      type: array
                  type: object
              type: object
            sourceSelector:
              description: |-
                Specify the Workloads (traffic sources) this TrafficPolicy applies to.
                Omit to apply to all Workloads.
              items:
                properties:
                  kubeWorkloadMatcher:
                    description: Match Kubernetes workloads by their labels, namespaces,
                      and/or clusters.
                    properties:
                      clusters:
                        description: |-
                          If specified, match Kubernetes workloads if they exist in one of the specified clusters.
                                     When used in a networking policy, omission matches any cluster.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any cluster.
                        items:
                          type: string
                        type: array
                      labels:
                        additionalProperties:
                          type: string
                        description: |-
                          If specified, all labels must exist on Kubernetes workload.
                                 When used in a networking policy, omission matches any labels.
                                 When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any label key and/or value.
                        type: object
                      namespaces:
                        description: |-
                          If specified, match Kubernetes workloads if they exist in one of the specified namespaces.
                                     When used in a networking policy, omission matches any namespace.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any namespace.
                        items:
                          type: string
                        type: array
                    type: object
                type: object
              type: array
          type: object
        status:
          properties:
            destinations:
              additionalProperties:
                properties:
                  acceptanceOrder:
                    description: |-
                      Represents the order in which the policy
                      was accepted and applied to a discovery resource. The first accepted policy
                      will have an acceptance_order of 0, the second 1, etc.
                      When conflicts are detected in the system,
                      the Policy with the lowest acceptance_order
                      will be chosen and all other conflicting policies will be rejected.
                    maximum: 4294967295
                    minimum: 0
                    type: integer
                  errors:
                    description: Any errors observed which prevented the resource
                      from being Accepted.
                    items:
                      type: string
                    type: array
                  state:
                    description: The result of attempting to apply the policy to the
                      discovery resource.
                    enum:
                    - PENDING
                    - ACCEPTED
                    - INVALID
                    - FAILED
                    type: string
                type: object
              description: |-
                The status of the TrafficPolicy for each selected Destination.
                A TrafficPolicy may be Accepted for some Destinations and rejected for others.
              type: object
            errors:
              description: Any errors found while processing this generation of the
                resource.
              items:
                type: string
              type: array
            observedGeneration:
              description: |-
                The most recent generation observed in the the TrafficPolicy metadata.
                If the `observedGeneration` does not match `metadata.generation`, Gloo Mesh has not processed the most
                recent version of this resource.
              format: int64
              type: integer
            state:
              description: |-
                The state of the overall resource.
                It will only show accepted if it has been successfully applied to all selected Destinations.
              enum:
              - PENDING
              - ACCEPTED
              - INVALID
              - FAILED
              type: string
            workloads:
              description: The list of selected Workloads for which this policy has
                been applied.
              items:
                type: string
              type: array
          type: object
      type: object
  versions:
  - name: v1
    served: true
    storage: true

---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  labels:
    app: gloo-mesh
    app.kubernetes.io/name: gloo-mesh
  name: accesspolicies.networking.mesh.gloo.solo.io
spec:
  group: networking.mesh.gloo.solo.io
  names:
    kind: AccessPolicy
    listKind: AccessPolicyList
    plural: accesspolicies
    singular: accesspolicy
  preserveUnknownFields: false
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        spec:
          description: |-
            Grants communication permission between selected identities (i.e. traffic sources) and Destinations (i.e. destinations).
            Explicitly granted access permission is required if a
            [VirtualMesh's GlobalAccessPolicy]({{% versioned_link_path fromRoot="/reference/api/virtual_mesh/#networking.mesh.gloo.solo.io.VirtualMeshSpec.GlobalAccessPolicy" %}})
            is set to `ENABLED`.
          properties:
            allowedMethods:
              description: |-
                Optional. A list of HTTP methods to allow (e.g., "GET", "POST").
                       It is ignored in gRPC case because the value is always "POST".
                       If not specified, allows any method.
              items:
                type: string
              type: array
            allowedPaths:
              description: |-
                Optional. A list of HTTP paths or gRPC methods to allow.
                       gRPC methods must be presented as fully-qualified name in the form of
                       "/packageName.serviceName/methodName" and are case sensitive.
                       Exact match, prefix match, and suffix match are supported for paths.
                       For example, the path "/books/review" matches
                       "/books/review" (exact match), "*books/" (suffix match), or "/books*" (prefix match).

                       If not specified, allow any path.
              items:
                type: string
              type: array
            allowedPorts:
              description: |-
                Optional. A list of ports which to allow.
                       If not set any port is allowed.
              items:
                maximum: 4294967295
                minimum: 0
                type: integer
              type: array
            destinationSelector:
              description: |-
                Specify the Destinations for which to apply this AccessPolicy.
                Leave empty to apply the AccessPolicy to all Destinations.
              items:
                properties:
                  kubeServiceMatcher:
                    description: Match Kubernetes Services by their labels, namespaces,
                      and/or clusters.
                    properties:
                      clusters:
                        description: |-
                          If specified, match Kubernetes Services if they exist in one of the specified clusters.
                                     When used in a networking policy, omission matches any cluster.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any cluster.
                        items:
                          type: string
                        type: array
                      labels:
                        additionalProperties:
                          type: string
                        description: |-
                          If specified, a match requires all labels to exist on a Kubernetes Service.
                                     When used in a networking policy, omission matches any labels.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any label key and/or value.
                        type: object
                      namespaces:
                        description: |-
                          If specified, match Kubernetes Services if they exist in one of the specified namespaces.
                                     When used in a networking policy, omission matches any namespace.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any namespace.
                        items:
                          type: string
                        type: array
                    type: object
                  kubeServiceRefs:
                    description: Match Kubernetes Services by direct reference.
                    properties:
                      services:
                        description: |-
                          Match Kubernetes Services by direct reference.
                                     When used in a networking policy, omission of any field (name, namespace, or clusterName) allows matching any value for that field.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any value for the given field.
                        items:
                          properties:
                            clusterName:
                              description: name of the cluster in which the resource
                                exists
                              type: string
                            name:
                              description: name of the resource being referenced
                              type: string
                            namespace:
                              description: namespace of the resource being referenced
                              type: string
                          type: object
                        type: array
                    type: object
                type: object
              type: array
            sourceSelector:
              description: |-
                Specify the identities of Workloads (i.e. traffic sources) for which to apply this AccessPolicy.
                Leave empty to apply the AccessPolicy to all Workloads colocated in the destination's Mesh.
              items:
                properties:
                  kubeIdentityMatcher:
                    description: Match request identities based on the Kubernetes
                      namespace and cluster.
                    properties:
                      clusters:
                        description: |-
                          If specified, match a Kubernetes identity if it exists in one of the specified clusters.
                                     When used in a networking policy, omission matches any cluster.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any cluster.
                        items:
                          type: string
                        type: array
                      namespaces:
                        description: |-
                          If specified, match a Kubernetes identity if it exists in one of the specified namespaces.
                                     When used in a networking policy, omission matches any namespace.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any namespace.
                        items:
                          type: string
                        type: array
                    type: object
                  kubeServiceAccountRefs:
                    description: Match request identities based on the Kubernetes
                      service account of the request.
                    properties:
                      serviceAccounts:
                        description: |-
                          Match Kubernetes service accounts by direct reference.
                                     When used in a networking policy, omission of any field (name, namespace, or clusterName) allows matching any value for that field.
                                     When used in a Gloo Mesh Role, a wildcard (`"*"`) must be specified to match any value for the given field.
                        items:
                          properties:
                            clusterName:
                              description: name of the cluster in which the resource
                                exists
                              type: string
                            name:
                              description: name of the resource being referenced
                              type: string
                            namespace:
                              description: namespace of the resource being referenced
                              type: string
                          type: object
                        type: array
                    type: object
                type: object
              type: array
          type: object
        status:
          properties:
            destinations:
              additionalProperties:
                properties:
                  acceptanceOrder:
                    description: |-
                      Represents the order in which the policy
                      was accepted and applied to a discovery resource. The first accepted policy
                      will have an acceptance_order of 0, the second 1, etc.
                      When conflicts are detected in the system,
                      the Policy with the lowest acceptance_order
                      will be chosen and all other conflicting policies will be rejected.
                    maximum: 4294967295
                    minimum: 0
                    type: integer
                  errors:
                    description: Any errors observed which prevented the resource
                      from being Accepted.
                    items:
                      type: string
                    type: array
                  state:
                    description: The result of attempting to apply the policy to the
                      discovery resource.
                    enum:
                    - PENDING
                    - ACCEPTED
                    - INVALID
                    - FAILED
                    type: string
                type: object
              description: |-
                The status of the AccessPolicy for each Destination to which it has been applied.
                An AccessPolicy may be accepted for some Destinations and rejected for others.
              type: object
            errors:
              description: Any errors found while processing this generation of the
                resource.
              items:
                type: string
              type: array
            observedGeneration:
              description: |-
                The most recent generation observed in the the AccessPolicy metadata.
                If the `observedGeneration` does not match `metadata.generation`, Gloo Mesh has not processed the most
                recent version of this resource.
              format: int64
              type: integer
            state:
              description: |-
                The state of the overall resource.
                It will only show accepted if it has been successfully applied to selected Destinations.
              enum:
              - PENDING
              - ACCEPTED
              - INVALID
              - FAILED
              type: string
            workloads:
              description: The list of Workloads to which this policy has been applied.
              items:
                type: string
              type: array
          type: object
      type: object
  versions:
  - name: v1
    served: true
    storage: true

---
apiVersion: apiextensions.k8s.io/v1beta1
kind: CustomResourceDefinition
metadata:
  labels:
    app: gloo-mesh
    app.kubernetes.io/name: gloo-mesh
  name: virtualmeshes.networking.mesh.gloo.solo.io
spec:
  group: networking.mesh.gloo.solo.io
  names:
    kind: VirtualMesh
    listKind: VirtualMeshList
    plural: virtualmeshes
    singular: virtualmesh
  preserveUnknownFields: false
  scope: Namespaced
  subresources:
    status: {}
  validation:
    openAPIV3Schema:
      properties:
        spec:
          description: Represents a logical grouping of Meshes for shared configuration
            and cross-mesh interoperability.
          properties:
            federation:
              description: Specify how to federate Destinations across service mesh
                boundaries.
              oneOf:
              - not:
                  anyOf:
                  - required:
                    - permissive
              - required:
                - permissive
              properties:
                flatNetwork:
                  description: |-
                    If true, all multicluster traffic will be routed directly to the Kubernetes service endpoints of the Destinations,
                    rather than through an ingress gateway. This mode requires a flat network environment.
                    This feature is exclusive to Gloo Mesh Enterprise.
                  type: boolean
                hostnameSuffix:
                  description: |-
                    Configure the suffix for hostnames of Destinations federated within this VirtualMesh.
                    Currently this is only supported for Istio with [smart DNS proxying enabled](https://istio.io/latest/blog/2020/dns-proxy/),
                    otherwise setting this field results in an error.
                    If omitted, the hostname suffix defaults to "global".
                  type: string
                permissive:
                  description: Expose all Destinations to all Workloads in this VirtualMesh.
                  maxProperties: 0
                  type: object
              type: object
            globalAccessPolicy:
              description: Specify a global access policy for all Workloads and Destinations
                associated with this VirtualMesh.
              enum:
              - MESH_DEFAULT
              - ENABLED
              - DISABLED
              type: string
            meshes:
              description: Specify the Meshes configured by this VirtualMesh.
              items:
                properties:
                  name:
                    description: name of the resource being referenced
                    type: string
                  namespace:
                    description: namespace of the resource being referenced
                    type: string
                type: object
              type: array
            mtlsConfig:
              description: Specify mTLS options.
              oneOf:
              - not:
                  anyOf:
                  - required:
                    - shared
                  - required:
                    - limited
              - required:
                - shared
              - required:
                - limited
              properties:
                autoRestartPods:
                  description: |-
                    Specify whether to allow Gloo Mesh to restart Kubernetes Pods when certificates are rotated when establishing shared trust.
                    If this option is not explicitly enabled,
                    users must restart Pods manually for the new certificates to be picked up.
                    `meshctl` provides the command `meshctl mesh restart` to simplify this process, see [here]({{< versioned_link_path fromRoot="reference/cli/meshctl_mesh_restart/" >}}) for more info.
                  type: boolean
                limited:
                  description: Limited trust (selectively allow communication between
                    Workloads and Destinations in the grouped Meshes). *Currently
                    not available.*
                  type: object
                shared:
                  description: Shared trust (allow communication between any pair
                    of Workloads and Destinations in the grouped Meshes).
                  properties:
                    rootCertificateAuthority:
                      description: |-
                        Configure a Root Certificate Authority which will be shared by all Meshes associated with this VirtualMesh.
                        If this is not provided, a self-signed certificate will be generated by Gloo Mesh.
                      oneOf:
                      - not:
                          anyOf:
                          - required:
                            - generated
                          - required:
                            - secret
                      - required:
                        - generated
                      - required:
                        - secret
                      properties:
                        generated:
                          description: Generate a self-signed root certificate with
                            the given options.
                          properties:
                            orgName:
                              description: Root cert organization name. Defaults to
                                "gloo-mesh".
                              type: string
                            rsaKeySizeBytes:
                              description: Size in bytes of the root cert's private
                                key. Defaults to 4096.
                              maximum: 4294967295
                              minimum: 0
                              type: integer
                            ttlDays:
                              description: Number of days before root cert expires.
                                Defaults to 365.
                              maximum: 4294967295
                              minimum: 0
                              type: integer
                          type: object
                        secret:
                          description: |-
                            Reference to a Kubernetes Secret containing the root certificate authority.
                            Provided secrets must conform to a specified format, [documented here]({{< versioned_link_path fromRoot="/guides/federate_identity/" >}}).
                          properties:
                            name:
                              description: name of the resource being referenced
                              type: string
                            namespace:
                              description: namespace of the resource being referenced
                              type: string
                          type: object
                      type: object
                  type: object
              type: object
          type: object
        status:
          properties:
            errors:
              description: Any errors found while processing this generation of the
                resource.
              items:
                type: string
              type: array
            meshes:
              additionalProperties:
                properties:
                  acceptanceOrder:
                    description: |-
                      Represents the order in which the policy
                      was accepted and applied to a discovery resource. The first accepted policy
                      will have an acceptance_order of 0, the second 1, etc.
                      When conflicts are detected in the system,
                      the Policy with the lowest acceptance_order
                      will be chosen and all other conflicting policies will be rejected.
                    maximum: 4294967295
                    minimum: 0
                    type: integer
                  errors:
                    description: Any errors observed which prevented the resource
                      from being Accepted.
                    items:
                      type: string
                    type: array
                  state:
                    description: The result of attempting to apply the policy to the
                      discovery resource.
                    enum:
                    - PENDING
                    - ACCEPTED
                    - INVALID
                    - FAILED
                    type: string
                type: object
              description: |-
                The status of the VirtualMesh for each Mesh to which it has been applied.
                A VirtualMesh may be Accepted for some Meshes and rejected for others.
              type: object
            observedGeneration:
              description: |-
                The most recent generation observed in the the VirtualMesh metadata.
                If the `observedGeneration` does not match `metadata.generation`, Gloo Mesh has not processed the most
                recent version of this resource.
              format: int64
              type: integer
            state:
              description: |-
                The state of the overall resource. It will only show accepted if it has been successfully
                applied to all selected Meshes.
              enum:
              - PENDING
              - ACCEPTED
              - INVALID
              - FAILED
              type: string
          type: object
      type: object
  versions:
  - name: v1
    served: true
    storage: true
