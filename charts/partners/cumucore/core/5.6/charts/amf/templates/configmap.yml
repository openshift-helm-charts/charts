apiVersion: v1
kind: ConfigMap
metadata:
  name: amf-config
data:
  amf_config.json: |+
    {
    "name": "testamf",
    "operator_name": "testoperator",
    "operator_name_short": "TSTOPR", 
    "ng_addr_ipv4": "{{ .Values.global.networking.amfIP }}",
    "ng_addr_fqdn":"",
    "mcc": "{{ .Values.global.gnb.mcc }}",
    "mnc_len":2,
    "mnc": "{{ .Values.global.gnb.mnc }}",
    "amf_region_id": 1,
    "amf_set_id": 2,
    "amf_pointer": 3,

    "auth_data_path": "./",
    "auth_srv_ip": "127.0.0.1",

    "periodic_tau_timer": 10, 

    "tracking_area_list": [{{ join "," .Values.global.gnb.tac }}],

    "nf_instance_id": "3fa85f64-5717-4562-b3fc-2c963f66afba",
    "namf_enable_fqdn":"false", 
    "namf_interf_addr_ipv4": "{{ .Values.global.networking.amfIP }}",
    "namf_interf_addr_fqdn": "",
    "namf_interf_port":4000,
    "nrf_addr_ipv4": "{{ .Values.global.networking.nrfIP }}",
    "nrf_addr_fqdn": "",
    "nrf_port": 9090,
    "key_file_name": "private.key",
    "certficate_file_name": "public.crt",
    "suci_key":"a478145b70c23d8d4d2fb00854d05165ca6204687522e12981d1af8c5359e0f3",

    "nssf_addr_ipv4": "{{ .Values.global.networking.nssfIP }}",
    "nssf_addr_fqdn": "",
    "nssf_port": 20020,
    
    "s_nssai": [{"sst" :1,"sd":1},{"sst" :1}, {"sst": 1, "sd": 2}],

    "running_mode":"standalone", 
    "mongo_uri":"mongodb://mongodb:27017",

    "default_nasSec_cipher_alg":"nea0", 
    "default_nasSec_integrity_alg":"nia2", 

    "backup_amf_name":"backup",
    "backup_amf_pointer": 4,
    
    "NID":"",

    "license_ap_fqdn":"",
    "license_ap_ipv4":"{{ .Values.global.networking.licenseIP }}",
    "license_ap_port":2030,
    "auth_token":"./amf-token.txt",

    "alarm_server_fqdn":"",
    "alarm_server_ipv4":"{{ .Values.global.networking.alarmIP }}",
    "alarm_server_port":9005
    }